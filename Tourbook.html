<!DOCTYPE html>
<html lang="zh-TW" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025-2026 åŒ—æ­æ¥µåœ°è·¨åœ‹é å¾æˆ°ç•¥æŒ‡æ®ä¸­å¿ƒ</title>
    
    <!-- Tailwind CSS with Dark Mode Config -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        slate: {
                            850: '#1e293b', // Custom dark shade
                            900: '#0f172a',
                            950: '#020617',
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Leaflet CSS & JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <!-- Leaflet Polyline Decorator for Arrows -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polyline-decorator/1.6.0/leaflet.polylineDecorator.min.js"></script>

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .dark ::-webkit-scrollbar-track {
            background: #1e293b;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        .dark ::-webkit-scrollbar-thumb {
            background: #475569;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hide scrollbar for horizontal nav but keep functionality */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        
        /* Active state for map buttons */
        .map-btn-active {
            background-color: #4f46e5;
            color: white !important;
            border-color: #4f46e5;
        }

        /* Leaflet Map Height */
        #strategic-map {
            height: 100%;
            width: 100%;
            z-index: 1;
        }

        /* Dark Mode Map Filter - Cool trick to invert standard tiles */
        .dark .leaflet-layer,
        .dark .leaflet-control-zoom-in,
        .dark .leaflet-control-zoom-out,
        .dark .leaflet-control-attribution {
            filter: invert(100%) hue-rotate(180deg) brightness(95%) contrast(90%);
        }

        /* Back to Top Button */
        #back-to-top {
            transition: opacity 0.3s, transform 0.3s;
            opacity: 0;
            pointer-events: none;
            transform: translateY(20px);
        }
        #back-to-top.visible {
            opacity: 1;
            pointer-events: auto;
            transform: translateY(0);
        }

        /* Print Styles */
        @media print {
            header, #mobile-menu-btn, .map-btn, .no-print, #back-to-top, #mobile-menu { 
                display: none !important; 
            }
            body { 
                background: white !important; 
                color: black !important; 
                height: auto !important;
                overflow: visible !important;
            }
            #main-content { 
                overflow: visible !important; 
                height: auto !important; 
                padding-bottom: 0 !important;
            }
            .dark {
                color-scheme: light;
            }
            /* Reset Dark Mode for Print */
            .dark body, .dark #main-content {
                background-color: white !important;
                color: black !important;
            }
            .dark .text-slate-200, .dark .text-slate-300, .dark .text-slate-400 {
                color: #334155 !important; /* slate-700 */
            }
            .bg-white, .dark .bg-slate-800 {
                background-color: white !important;
                border: 1px solid #e2e8f0 !important;
                box-shadow: none !important;
            }
            /* Break pages nicely */
            .break-inside-avoid {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body class="text-slate-800 dark:text-slate-200 bg-slate-50 dark:bg-slate-950 antialiased flex flex-col h-screen overflow-hidden transition-colors duration-300">

    <!-- Top Navigation -->
    <header class="bg-white dark:bg-slate-900 shadow-sm z-50 flex-none relative h-16 transition-colors duration-300 no-print">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full">
            <div class="flex justify-between items-center h-full">
                <!-- Logo Area -->
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center gap-3 cursor-pointer" onclick="switchTab('dashboard')">
                        <i class="fa-solid fa-compass text-2xl text-slate-800 dark:text-white"></i>
                        <span class="font-bold text-xl tracking-tight hidden sm:block dark:text-white">åŒ—æ­æ¥µåœ°é å¾ <span class="text-slate-500 dark:text-slate-400 font-normal text-sm ml-1">2025-26</span></span>
                        <span class="font-bold text-xl tracking-tight sm:hidden dark:text-white">Nordic 2026</span>
                    </div>
                    <!-- Desktop Menu -->
                    <div class="hidden md:ml-10 md:flex md:space-x-8" id="desktop-nav">
                        <!-- Nav items injected by JS -->
                    </div>
                </div>

                <!-- Right Side: Status & Mobile Toggle -->
                <div class="flex items-center gap-3">
                   <!-- Dark Mode Toggle -->
                   <button onclick="toggleDarkMode()" class="p-2 rounded-full text-slate-500 hover:bg-slate-100 dark:text-yellow-400 dark:hover:bg-slate-800 transition-colors" title="Toggle Aurora Mode">
                        <i id="dark-mode-icon" class="fa-solid fa-moon text-xl"></i>
                   </button>

                   <div class="text-sm text-right hidden md:block mr-2">
                       <div class="font-medium text-slate-900 dark:text-white">æ¥µåœ°æˆ°ç•¥æŒ‡æ®éƒ¨</div>
                       <div class="text-slate-500 dark:text-slate-400 text-xs">ç‹€æ…‹: æº–å‚™åŸ·è¡Œ</div>
                   </div>
                   <!-- Mobile Menu Button -->
                   <button id="mobile-menu-btn" onclick="toggleMobileMenu()" class="md:hidden inline-flex items-center justify-center p-2 rounded-md text-slate-400 hover:text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
                        <span class="sr-only">Open main menu</span>
                        <i class="fa-solid fa-bars text-xl"></i>
                   </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Dropdown (Absolute Positioning Fix) -->
        <div id="mobile-menu" class="hidden absolute top-16 left-0 w-full bg-white dark:bg-slate-900 shadow-lg border-t border-slate-100 dark:border-slate-800 z-50 fade-in md:hidden">
             <div class="px-2 pt-2 pb-3 space-y-1" id="mobile-nav-items">
                 <!-- Mobile Nav items injected by JS -->
             </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-950 scroll-smooth pb-24 relative transition-colors duration-300" id="main-content">
        <!-- Dynamic Content Injected Here -->
    </main>

    <!-- Back to Top Button -->
    <button id="back-to-top" onclick="scrollToTop()" class="fixed bottom-6 right-6 z-50 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full p-4 shadow-lg focus:outline-none transition-colors no-print" title="å›åˆ°é ‚ç«¯">
        <i class="fa-solid fa-arrow-up text-lg"></i>
    </button>

    <!-- JavaScript Logic -->
    <script>
        // --- DATA STORE ---
        const appData = {
            currentTab: 'dashboard',
            viewMode: 'detailed', 
            mobileMenuOpen: false,
            darkMode: false,
            missionStartDate: new Date("2025-12-28T00:00:00").getTime(),
            // Exchange Rates (Approximate)
            exchangeRates: {
                EUR: 34.5, // Euro
                SEK: 3.0,  // Swedish Krona
                NOK: 2.9   // Norwegian Krone
            },
            tripStats: {
                totalDays: 13,
                countries: ['èŠ¬è˜­', 'ç‘å…¸', 'æŒªå¨'],
                totalDistanceKm: 3200,
                auroraChance: 'High (Solar Max)',
            },
            gearChecklist: [
                {
                    category: "æ ¸å¿ƒæ–‡ä»¶èˆ‡é‡‘æµ (Critical Documents)",
                    icon: "fa-passport",
                    items: [
                        { name: "è­·ç…§ (æ•ˆæœŸ6å€‹æœˆä»¥ä¸Š)", checked: false },
                        { name: "é§•ç…§æ­£æœ¬ + åœ‹éš›é§•ç…§", checked: false },
                        { name: "ä¿¡ç”¨å¡ (éœ€ç”³è«‹é å€Ÿç¾é‡‘å¯†ç¢¼ PIN Code)", checked: false },
                        { name: "ç§Ÿè»Š/ä½å®¿ç¢ºèªæ†‘è­‰ (ç´™æœ¬å‚™ä»½)", checked: false },
                        { name: "ç”³æ ¹ä¿éšªè­‰æ˜", checked: false }
                    ]
                },
                {
                    category: "æ¥µåœ°äººèº«éƒ¨å“ (Arctic Gear)",
                    icon: "fa-mitten",
                    items: [
                        { name: "åº•å±¤ï¼šç¾éº—è«¾ç¾Šæ¯›è¡£/è¤² (Merino Wool)", checked: false },
                        { name: "ä¸­å±¤ï¼šåˆ·æ¯›è¡£/ç¾Šæ¯›è¡£ (Fleece/Wool)", checked: false },
                        { name: "å¤–å±¤ï¼šé˜²é¢¨é˜²æ°´å¤–å¥— (Gore-Tex)", checked: false },
                        { name: "ä¸‹èº«ï¼šé˜²é¢¨é˜²æ°´æ»‘é›ªè¤²", checked: false },
                        { name: "é…ä»¶ï¼šç¾Šæ¯›è¥ª (å¤šé›™)", checked: false },
                        { name: "é…ä»¶ï¼šé˜²é¢¨æ‰‹å¥— + è§¸æ§å…§æ‰‹å¥—", checked: false },
                        { name: "é…ä»¶ï¼šæ¯›å¸½ (é®è€³) + åœè„–", checked: false },
                        { name: "é‹é¡ï¼šé«˜ç­’é˜²æ°´é›ªé´/ç™»å±±é‹", checked: false },
                        { name: "è£å‚™ï¼šç°¡æ˜“å†°çˆª (Crampons)", checked: false }
                    ]
                },
                {
                    category: "é›»å­èˆ‡æ”å½± (Tech & Photo)",
                    icon: "fa-camera",
                    items: [
                        { name: "ç›¸æ©Ÿ + å¤§å…‰åœˆå»£è§’é¡", checked: false },
                        { name: "ç©©å›ºè…³æ¶ (æ¥µå…‰å¿…å‚™)", checked: false },
                        { name: "å‚™ç”¨é›»æ±  x3 (ä½æº«è€—é›»å¿«)", checked: false },
                        { name: "å¿«é–€ç·š (é˜²æ‰‹éœ‡)", checked: false },
                        { name: "è¡Œå‹•é›»æº (Power Bank)", checked: false },
                        { name: "è¬ç”¨è½‰æ¥é ­ (æ­è¦)", checked: false }
                    ]
                },
                {
                    category: "è»Šç”¨èˆ‡ç”Ÿæ´» (Car & Misc)",
                    icon: "fa-car-side",
                    items: [
                        { name: "æ‰‹æ©Ÿè»Šç”¨æ”¯æ¶", checked: false },
                        { name: "è»Šå…… (USB/Type-C)", checked: false },
                        { name: "å¢¨é¡ (é›ªåœ°é˜²çœ©å…‰)", checked: false },
                        { name: "ä¿æº«ç“¶ (éš¨æ™‚å–ç†±æ°´)", checked: false },
                        { name: "é«˜ä¿æ¿•ä¹³æ¶²/è­·å”‡è†", checked: false },
                        { name: "å€‹äººè—¥å“/æš–æš–åŒ…", checked: false }
                    ]
                }
            ],
            phrases: [
                {
                    lang: "èŠ¬è˜­èª (Finnish)",
                    flag: "ğŸ‡«ğŸ‡®",
                    items: [
                        { src: "ä½ å¥½", tgt: "Hei (å˜¿) / Moi (æ‘¸ä»¥)" },
                        { src: "è¬è¬", tgt: "Kiitos (ki-tos)" },
                        { src: "ä¹¾æ¯", tgt: "Kippis (ki-pis)" },
                        { src: "æˆ‘ä¸æ‡‚", tgt: "En ymmÃ¤rrÃ¤" }
                    ]
                },
                {
                    lang: "ç‘å…¸èª (Swedish)",
                    flag: "ğŸ‡¸ğŸ‡ª",
                    items: [
                        { src: "ä½ å¥½", tgt: "Hej (å˜¿)" },
                        { src: "è¬è¬", tgt: "Tack (è¸å…‹)" },
                        { src: "ä¹¾æ¯", tgt: "SkÃ¥l (skol)" },
                        { src: "å»æ‰€åœ¨å“ª", tgt: "Var Ã¤r toaletten?" }
                    ]
                },
                {
                    lang: "æŒªå¨èª (Norwegian)",
                    flag: "ğŸ‡³ğŸ‡´",
                    items: [
                        { src: "ä½ å¥½", tgt: "Hei (å˜¿)" },
                        { src: "è¬è¬", tgt: "Takk (è¸å…‹)" },
                        { src: "å°ä¸èµ·", tgt: "Unnskyld (un-shil)" },
                        { src: "é€™å¤šå°‘éŒ¢", tgt: "Hvor mye koster det?" }
                    ]
                }
            ],
            weatherForecast: [
                { day: 1, loc: "Helsinki", temp: "-5Â°C", cond: "Snow Showers", icon: "fa-snowflake", sun: "09:24 - 15:18" },
                { day: 2, loc: "Rovaniemi", temp: "-15Â°C", cond: "Partly Cloudy", icon: "fa-cloud-moon", sun: "10:50 - 13:30" },
                { day: 3, loc: "Kemi/Tornio", temp: "-12Â°C", cond: "Overcast", icon: "fa-cloud", sun: "10:30 - 13:45" },
                { day: 4, loc: "Inari", temp: "-20Â°C", cond: "Clear Night", icon: "fa-star", sun: "Polar Night" },
                { day: 5, loc: "Kirkenes", temp: "-18Â°C", cond: "Snow", icon: "fa-snowflake", sun: "Polar Night" },
                { day: 6, loc: "TromsÃ¸", temp: "-8Â°C", cond: "Clear", icon: "fa-moon", sun: "Polar Night" },
                { day: 7, loc: "Lyngen", temp: "-10Â°C", cond: "Full Moon", icon: "fa-circle", sun: "Polar Night" },
                { day: 8, loc: "Bergen", temp: "2Â°C", cond: "Rain/Sleet", icon: "fa-cloud-showers-heavy", sun: "09:40 - 15:30" },
                { day: 9, loc: "Hardanger", temp: "0Â°C", cond: "Cloudy", icon: "fa-cloud", sun: "09:35 - 15:35" },
                { day: 10, loc: "Voss", temp: "-2Â°C", cond: "Light Snow", icon: "fa-snowflake", sun: "09:40 - 15:30" },
                { day: 11, loc: "Stockholm", temp: "-3Â°C", cond: "Sunny", icon: "fa-sun", sun: "08:45 - 15:00" },
                { day: 12, loc: "Stockholm", temp: "-4Â°C", cond: "Clear", icon: "fa-sun", sun: "08:44 - 15:02" },
                { day: 13, loc: "Airport", temp: "-5Â°C", cond: "Cloudy", icon: "fa-plane", sun: "N/A" },
            ],
            // Geo-coordinates for Leaflet Map
            mapLocations: [
                { id: 1, day: 1, name: "Helsinki", lat: 60.1699, lng: 24.9384 },
                { id: 2, day: 2, name: "Rovaniemi", lat: 66.5039, lng: 25.7294 },
                { id: 3, day: 3, name: "Tornio/Kemi", lat: 65.8481, lng: 24.1466 },
                { id: 4, day: 4, name: "Inari", lat: 68.9059, lng: 27.0285 },
                { id: 5, day: 5, name: "Kirkenes", lat: 69.7269, lng: 30.0450 },
                { id: 6, day: 6, name: "TromsÃ¸", lat: 69.6492, lng: 18.9553 },
                { id: 7, day: 7, name: "Lyngen", lat: 69.5763, lng: 20.2189 },
                { id: 8, day: 8, name: "Bergen", lat: 60.3913, lng: 5.3221 },
                { id: 9, day: 9, name: "Hardanger", lat: 60.3708, lng: 6.1451 },
                { id: 10, day: 10, name: "Voss", lat: 60.6280, lng: 6.4116 },
                { id: 11, day: 11, name: "Stockholm (Old Town)", lat: 59.3251, lng: 18.0711 },
                { id: 12, day: 12, name: "Stockholm (City)", lat: 59.3293, lng: 18.0686 },
            ],
            dailyItinerary: [
                {
                    day: 1, date: "12/28 (Sun)", fullDate: "2025-12-28", title: "èµ«çˆ¾è¾›åŸºå‰å“¨æˆ°", location: "Helsinki (EET UTC+2)",
                    theme: "åŠŸèƒ½ä¸»ç¾©èˆ‡æ³¢ç¾…çš„æµ·åºæ›²",
                    aurora: "æ¥µä½ (åŸå¸‚å…‰å®³)",
                    events: [
                        { time: "13:10", type: "transport", title: "æˆ°è¡“æŠµé” HEL", desc: "èˆªç­ KL1251 é™è½ T2ã€‚é ˜å–è¡Œæå¾Œï¼Œç«‹å³åœ¨æ©Ÿå ´å…§ç©¿ä¸Šé å‚™å¥½çš„é‡è£å†¬è¡£ã€‚", details: "ä¾å¾ªé»ƒè‰²ç«è»Šåœ–ç¤ºå‰å¾€åœ°ä¸‹è»Šç«™ã€‚ä½¿ç”¨ HSL App è³¼è²·ã€ŒABCå€å–®ç¨‹ç¥¨ã€(â‚¬4.10, 90åˆ†é˜æ•ˆæœŸ)ã€‚HSL App éœ€äº‹å…ˆä¸‹è¼‰ç¶å®šä¿¡ç”¨å¡ã€‚", tips: "é¢¨éšªï¼šå®¤å…§å¤–æº«å·®æ¥µå¤§ï¼Œé¿å…å‡ºæ±—å¾Œå—å¯’ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Helsinki+Airport" },
                        { time: "14:00", type: "transport", title: "è»Œé“è½‰ç§»", desc: "æ­ä¹˜ Pç·š æˆ– Iç·š åˆ—è»Šï¼ˆç’°ç‹€ç·šï¼‰ã€‚", details: "è¡Œè»Šç´„ 30 åˆ†é˜ã€‚è§€å¯Ÿçª—å¤–ç”±é‡è‘‰æ—è½‰è®Šç‚ºèŠ±å´—å²©å»ºç¯‰çš„åœ°è²Œã€‚è»Šå»‚å…§æœ‰æš–æ°£ï¼Œå»ºè­°è§£é–‹å¤–å¥—æ‹‰éŠã€‚", tips: "", link: "" },
                        { time: "14:40", type: "stay", title: "åŸºåœ°å»ºç«‹ï¼šSokos Vaakuna", desc: "ä¸­å¤®è»Šç«™æ—ï¼Œå¥§é‹åŠŸèƒ½ä¸»ç¾©ç¶“å…¸å»ºç¯‰ã€‚", details: "è«‹å‹™å¿…ä¾æ“šå‚™è¨»è¦æ±‚ 'High Floor, Station View'ï¼Œä¿¯ç°åŸƒåˆ—çˆ¾Â·è–©é‡Œå¯§è¨­è¨ˆçš„è»Šç«™èˆ‡ã€ŒæŒç‡ˆè€…ã€é›•åƒã€‚", tips: "æ–‡ä»¶ï¼šå‚™å¦¥è­·ç…§èˆ‡å…¥ä½æ†‘è­‰ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Original+Sokos+Hotel+Vaakuna+Helsinki" },
                        { time: "15:30", type: "activity", title: "è—è‰²æ™‚åˆ»æ•£ç­– (Blue Hour)", desc: "åƒè­°é™¢å»£å ´ã€ç™½æ•™å ‚ã€çƒæ–¯ä½©æ–¯åŸºå¤§æ•™å ‚ã€‚", details: "æ­¤æ™‚æ—¥è½å·²éï¼ŒåŸå¸‚é€²å…¥æ¼«é•·çš„è—è‰²æš®å…‰ã€‚ç™½æ•™å ‚çš„é«˜å°éšæ¢¯å†¬å­£æ¥µæ»‘ï¼Œè«‹å‹™å¿…æ‰¶æ‰‹æˆ–èµ°å´å¡ã€‚", tips: "é¢¨éšªï¼šå»£å ´åœ°é¢çŸ³æ¿æ˜“çµå†°ï¼Œèµ°è·¯è«‹åƒä¼éµä¸€æ¨£é‡å¿ƒå‘å‰ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Senate+Square+Helsinki" },
                        { time: "17:30", type: "activity", title: "å…‰ä¹‹å¤§é“æ¼«éŠ", desc: "æ²¿è‘— Esplanadi å…¬åœ’å¾€å›èµ°ã€‚", details: "å…©å´çš„æ¤´æ¨¹è¢«å…‰ç¶²è¦†è“‹ï¼Œé€™æ˜¯åŒ—æ­å°æŠ—å†¬å­£æ†‚é¬± (SAD) çš„åŸå¸‚è¨­è¨ˆã€‚ç€è¦½ Iittala èˆ‡ Artek è¨­è¨ˆå•†åº—æ«¥çª—ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Esplanadi" },
                        { time: "19:00", type: "food", title: "æ™šé¤ï¼šRavintola Zetor", desc: "æ‹–æ‹‰æ©Ÿä¸»é¡Œé¤å»³ï¼Œé«”é©—èŠ¬è˜­å¼å¹½é»˜ã€‚", details: "æ¨è–¦èœè‰²ï¼šSautÃ©ed Reindeer (ç‚’é¦´é¹¿è‚‰)ï¼Œæ­é…é¦¬éˆ´è–¯æ³¥èˆ‡è¶Šæ©˜é†¬ (Lingonberry)ã€‚", tips: "å¼·çƒˆå»ºè­°é è¨‚ã€‚åœ°å€ï¼šMannerheimintie 3ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Ravintola+Zetor" },
                        { time: "20:30", type: "food", title: "æˆ°è¡“è£œçµ¦ï¼šK-Supermarket", desc: "å‰å¾€ Postitalo åˆ†åº—æ¡è³¼æ°´èˆ‡è£œçµ¦ã€‚", details: "æ¡è³¼æ¸…å–®ï¼š5å…¬å‡å¤§æ¡¶æ°´ï¼ˆæ¥µåœ°ä¹¾ç‡¥éœ€å¤§é‡è£œæ°´ï¼‰ã€Fazer å·§å…‹åŠ›æ¢ï¼ˆç·Šæ€¥ç†±é‡ï¼‰ã€æ˜æ—¥æ©Ÿä¸Šè¼•é£Ÿã€‚", tips: "èŠ¬è˜­è‡ªä¾†æ°´å¯ç”Ÿé£²ï¼Œä½†è»Šå…§å‚™æ°´è¼ƒæ–¹ä¾¿ã€‚", link: "https://www.google.com/maps/search/?api=1&query=K-Supermarket+Postitalo" }
                    ]
                },
                {
                    day: 2, date: "12/29 (Mon)", fullDate: "2025-12-29", title: "é£›è¶ŠåŒ—æ¥µåœˆ", location: "Rovaniemi (EET UTC+2)",
                    theme: "æ‹‰æ™®è˜­å‰å“¨æˆ° & æ¥µå…‰ä¼æ“Š",
                    aurora: "ä¸­ (NorvajÃ¤rvi æ¹–é‚Š)",
                    events: [
                        { time: "11:55", type: "transport", title: "ç©ºä¸­åŒ—ä¼", desc: "Finnair AY0533 é£›å¾€ç¾…ç“¦æ¶…ç±³ (RVN)ã€‚", details: "éš¨è‘—ç·¯åº¦å‡é«˜ï¼Œåœ°è²Œå°‡å¾ç ´ç¢æ¹–å€è½‰è®Šç‚ºè¢«ç™½é›ªè¦†è“‹çš„å»£è¢¤é‡è‘‰æ— (Taiga)ã€‚å»ºè­°å³å´é çª—ã€‚", tips: "æ©Ÿä¸Šç„¡å…è²»é¤é£Ÿï¼Œå»ºè­°è‡ªå‚™ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Rovaniemi+Airport" },
                        { time: "13:20", type: "transport", title: "è³‡ç”¢æ¥æ”¶", desc: "Green Motion é ˜å– VW Golf ICEã€‚", details: "é©—è»Š SOP (é—œéµ)ï¼š1. ç¢ºèªå¼•æ“åŠ ç†±ç·š (Heating Cable) èˆ‡é›ªéŸ/åˆ®å†°å™¨é½Šå…¨ã€‚ 2. ç¢ºèªè¼ªèƒç‚ºé‡˜èƒ (Studded Tyres)ã€‚", tips: "å†æ¬¡ç¢ºèª Avis è¨‚å–®å·²å–æ¶ˆä»¥å… No-Show ç½°æ¬¾ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Rovaniemi+Airport" },
                        { time: "14:30", type: "activity", title: "è–èª•è€äººæ‘ & åˆé¤", desc: "è·¨è¶ŠåŒ—ç·¯ 66Â°33â€²07â€³ ç·šï¼Œåˆé¤åƒçƒ¤é®­é­šã€‚", details: "ç›´å¥” Santa's Salmon Place (Kotahovi) åˆé¤ï¼Œåªè³£ç¾çƒ¤é®­é­š (â‚¬25)ã€‚éš¨å¾Œåƒè§€è–èª•è€äººè¾¦å…¬å®¤ã€‚", tips: "ä¸‹åˆæ™‚æ®µäººæ½®è¼ƒå°‘ï¼Œå¤©è‰²æ¼¸æš—ç‡ˆé£¾äº®èµ·æ›´æœ‰æ°£æ°›ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Santa+Claus+Village" },
                        { time: "16:00", type: "activity", title: "éº¥ç•¶å‹æ¥µå…‰æ‰“å¡", desc: "McDonald's Rovaniemi (å‰ä¸–ç•Œæœ€åŒ—)ã€‚", details: "é›–ç„¶ã€Œä¸–ç•Œæœ€åŒ—ã€é ­éŠœå·²è¢«ä¿„ç¾…æ–¯èˆ‡æŒªå¨å¥ªèµ°ï¼Œä½†é€™è£¡ä»ä¿ç•™å‚³çµ±ã€‚å‘æ«ƒæª¯ç´¢å–å…è²»çš„ã€Œæ¥µå…‰æ˜ä¿¡ç‰‡ã€ä½œç‚ºç´€å¿µã€‚", tips: "åœ°å€ï¼šPoromiehentie 3ã€‚", link: "https://www.google.com/maps/search/?api=1&query=McDonald's+Rovaniemi" },
                        { time: "16:45", type: "stay", title: "åŸºåœ°éƒ¨ç½²ï¼šModern Log Apt", desc: "Rauhankatu 37 Bã€‚è¨­å®šåœè»Šä½åŠ ç†±æŸ±ã€‚", details: "å­¸ç¿’ä½¿ç”¨åœè»Šä½åŠ ç†±æŸ± (Tolppa)ï¼Œè¨­å®šå®šæ™‚å™¨åœ¨æ˜æ—©å‡ºç™¼å‰ 2 å°æ™‚åŠ ç†±å¼•æ“ã€‚", tips: "è‹¥æ°£æº«ä½æ–¼ -15Â°Cï¼Œå¼•æ“åŠ ç†±æ˜¯ç™¼å‹•é—œéµã€‚", link: "https://www.google.com/maps/search/?api=1&query=Rauhankatu+37+B+Rovaniemi" },
                        { time: "17:15", type: "food", title: "é‡è£è£œçµ¦ï¼šK-Citymarket", desc: "é€²å…¥è’é‡å‰æœ€å¾Œçš„å¤§å‹è£œçµ¦é»ã€‚", details: "æ¡è³¼ï¼šè§£å‡å™´éœ§ (De-icer)ã€æŠ—å‡é›¨åˆ·æ°´ (-20Â°C)ã€æš–æš–åŒ…ã€æœªä¾†å…©å¤©çš„æ—©é¤é£Ÿæã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=K-Citymarket+Rovaniemi" },
                        { time: "19:00", type: "food", title: "æ™šé¤ï¼šRestaurant Nili", desc: "æ¥µè‡´é‡å‘³é«”é©—ï¼Œå…§éƒ¨è£é£¾å¦‚çµäººå°å±‹ã€‚", details: "æ¨è–¦ï¼šç†Šè‚‰ (Bear Meat)ã€‚å£æ„Ÿä¼¼ç‰›è‚‰ä½†æ›´ç²—çº–ç¶­ä¸”å¸¶ç”œå‘³ã€‚", tips: "å¿…é ˆæå‰é è¨‚ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Restaurant+Nili" },
                        { time: "21:00", type: "aurora", title: "æ¥µå…‰ä¼æ“Š", desc: "NorvajÃ¤rvi Public Beachã€‚", details: "æˆ°ç•¥å„ªå‹¢ï¼šé¿é–‹ Ounasvaara æ»‘é›ªå ´å…‰å®³ã€‚é¢å‘æ­£åŒ—æ–¹ï¼Œå‰æ–¹æ˜¯å»£é—Šå†°å°æ¹–é¢ã€‚", tips: "ä¿æŒå¼•æ“æ€ é€Ÿé‹è½‰ç¶­æŒæš–æ°£ï¼Œæ³¨æ„æ’æ°£ç®¡å‹¿è¢«é›ªå µå¡ã€‚", link: "https://www.google.com/maps/search/?api=1&query=NorvajÃ¤rvi+Public+Beach" }
                    ]
                },
                {
                    day: 3, date: "12/30 (Tue)", fullDate: "2025-12-30", title: "é‹¼éµæ„å¿—", location: "Kemi/Tornio (è·¨æ™‚å€)",
                    theme: "ç ´å†°èˆ¹è·¨åœ‹çªè¥²",
                    aurora: "ä¸­ (Ounasvaara å±±é ‚)",
                    events: [
                        { time: "09:00", type: "transport", title: "é‚Šå¢ƒæ¨é€²", desc: "E75 å—ä¸‹å‰å¾€ç‘å…¸é‚Šå¢ƒã€‚æ³¨æ„ã€Œé›ªéœ§ã€ã€‚", details: "é¢¨éšªï¼šèˆ‡å¤§å‹è¯çµè»Šäº¤æœƒæ™‚ï¼Œè¼ªèƒæ²èµ·çš„ç²‰ç‹€ä¹¾é›ªæœƒå½¢æˆç™½è‰²éœ§ç‰†ï¼Œå°è‡´ç¬é–“èƒ½è¦‹åº¦ç‚ºé›¶ã€‚å°ç­–ï¼šæ¡ç·Šæ–¹å‘ç›¤ï¼Œä¿æŒç›´ç·šã€‚", tips: "10:00 åœ¨ Neste Tervola ä¼‘æ¯ (æª¢æŸ¥è»Šè¼›)ã€‚", link: "https://www.google.com/maps/search/?api=1&query=E75+road+Finland" },
                        { time: "10:30 (FI)", type: "activity", title: "é›™å­åŸèˆ‡æ™‚å·®ç´…åˆ©", desc: "æŠµé” Tornio (èŠ¬) / Haparanda (ç‘)ã€‚", details: "è·¨éæ‰˜çˆ¾å°¼å¥§æ²³é€²å…¥ç‘å…¸ï¼Œæ‰‹æ©Ÿæ™‚é–“æœƒè‡ªå‹•å€’é€€ 1 å°æ™‚ (è®Šå› 09:30)ã€‚å¯åƒè§€ Kemi Church æˆ– Haparanda Candy Worldã€‚", tips: "æ³¨æ„æ™‚å·®ï¼šèŠ¬è˜­ 10:30 = ç‘å…¸ 09:30ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Haparanda" },
                        { time: "10:00 (SE)", type: "activity", title: "æœ€åŒ— IKEA æœè–", desc: "IKEA HaparandaTornioã€‚", details: "é€™æ˜¯å…¨ä¸–ç•Œæœ€åŒ—çš„ IKEAã€‚åœ¨ç‘å…¸åœ‹å¢ƒå…§åƒæœ€é“åœ°çš„ç‘å…¸è‚‰ä¸¸åˆé¤ï¼Œä¸¦è³¼è²·ä¸€äº›æ¥µåœ°å±…å®¶ç”¨å“ï¼ˆå¦‚ç¾Šæ¯›æ¯¯ï¼‰ã€‚", tips: "å°±åœ¨ HaparandaTornio è³¼ç‰©å€ã€‚", link: "https://www.google.com/maps/search/?api=1&query=IKEA+Haparanda" },
                        { time: "11:50 (SE)", type: "transport", title: "æ¸¯å£é›†çµ", desc: "æŠµé” Axelsvik Marine (BÃ¥tskÃ¤rsnÃ¤s)ã€‚", details: "å·¥æ¥­æ¸¯å£ï¼Œå……æ»¿èµ·é‡æ©Ÿã€‚å‹™å¿…åœ¨ 12:30 (ç‘å…¸æ™‚é–“) å‰å®Œæˆå ±åˆ°ã€‚å°èˆªè¼¸å…¥æº–ç¢ºåº§æ¨™ï¼Œé¿å…è¿·è·¯ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Axelsvik+Marine" },
                        { time: "13:00 (SE)", type: "activity", title: "ç ´å†°è¡Œå‹•ï¼šPolar Explorer", desc: "å‡ºèˆªã€‚é¾è¦è£æ¼‚æµ®é«”é©—ã€‚", details: "åƒè§€å¼•æ“å®¤ï¼Œæ„Ÿå—èˆ¹èº«å£“ç¢å†°å±¤ã€‚ç©¿è‘—æ©˜è‰²ç”Ÿå­˜è¡£è·³å…¥å†°æµ·ã€‚æ³¨æ„ï¼šæ¼‚æµ®è¡£ä¸é€æ°£ï¼Œå»ºè­°å…§å±¤åªç©¿è¼•è–„ç¾Šæ¯›è¡£ï¼Œå‹¿ç©¿ç¾½çµ¨å¤–å¥—ã€‚", tips: "èˆ¹ä¸Šæœ‰ç†±æ¹¯èˆ‡éºµåŒ…åˆé¤ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Polar+Explorer+Icebreaker" },
                        { time: "17:30 (FI)", type: "transport", title: "å¤œé–“è¿”èˆª", desc: "è¿”å›ç¾…ç“¦æ¶…ç±³ã€‚å¤©è‰²å…¨é»‘ï¼Œè­¦æˆ’é¦´é¹¿ã€‚", details: "éœ€ç‰¹åˆ¥ç•™æ„è·¯é‚Šåå…‰æ¨™ç¤ºï¼ˆå¯èƒ½ä»£è¡¨æœ‰é¦´é¹¿ï¼‰ã€‚å–„ç”¨é å…‰ç‡ˆï¼Œé‡å°å‘ä¾†è»Šå‹™å¿…åˆ‡æ›è¿‘å…‰ç‡ˆã€‚", tips: "", link: "" },
                        { time: "19:30 (FI)", type: "stay", title: "ä¼‘æ•´", desc: "å›åˆ°ç¾…ç“¦æ¶…ç±³ã€‚", details: "å»ºè­°åœ¨æ°‘å®¿ç°¡å–®è‡ªç…®æˆ–è³¼è²·ç†Ÿé£Ÿ (KauppayhtiÃ¶ æ¼¢å ¡)ï¼Œæ—©é»ä¼‘æ¯ä»¥æ‡‰å°æ˜æ—¥çš„é•·é€”ç§»å‹•ã€‚", tips: "", link: "" }
                    ]
                },
                {
                    day: 4, date: "12/31 (Wed)", fullDate: "2025-12-31", title: "æ·±å…¥è’é‡", location: "Inari (EET UTC+2)",
                    theme: "ç´«æ°´æ™¶èˆ‡æ¥µåœ°è·¨å¹´",
                    aurora: "æ¥µé«˜ (æˆ°ç•¥é‡é»)",
                    events: [
                        { time: "09:00", type: "transport", title: "åŒ—ä¸Šå¾é€”", desc: "é€€æˆ¿ï¼Œæ²¿ E75 åŒ—ä¸Šï¼Œå³è½‰ 962 å‰å¾€ Luostoã€‚", details: "962 è™Ÿå…¬è·¯è¼ƒçª„ï¼Œæ³¨æ„é™¤é›ªç‹€æ³ã€‚æ™¯è§€è½‰è®Šç‚º Tykky (é›ªé›•æ¨¹) å½¢æ…‹ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Luosto" },
                        { time: "11:00", type: "activity", title: "ç´«æ°´æ™¶ç¤¦", desc: "Ukko-Luosto æ­ä¹˜ 11:30 Pendolino é›ªåœ°è»Šä¸Šå±±ã€‚", details: "æŒ–æ˜ 20 å„„å¹´å‰å½¢æˆçš„ç´«æ°´æ™¶ã€‚æ¯äººå¯å¸¶èµ°ä¸€é¡†æ‹³é ­å¤§å°ä»¥å…§çš„å¯¶çŸ³ã€‚å±±é ‚é¢¨å¤§éœ€å…¨å¥—é˜²é¢¨è£å‚™ã€‚", tips: "11:25 å‰å ±åˆ°ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Lampivaara+Amethyst+Mine" },
                        { time: "13:30", type: "food", title: "åˆé¤ï¼šRestaurant Vaisko", desc: "æä¾›é«˜å“è³ªæ‹‰æ™®è˜­æ–™ç†ï¼Œæ°›åœæº«é¦¨ã€‚", details: "ä¸‹å±±å¾Œç”¨é¤ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Restaurant+Vaisko" },
                        { time: "14:30", type: "transport", title: "ç¸±è²«æ‹‰æ™®è˜­", desc: "E75 ç¹¼çºŒåŒ—ä¸Šã€‚ä¸­é€”åœé  Tankavaara æ·˜é‡‘æ‘ã€‚", details: "ä¸­é€”é»ï¼šSodankylÃ¤ Old Church (1689å¹´æœ¨é€ æ•™å ‚) èˆ‡ Tankavaaraã€‚é€²å…¥ Inari åœ°å€å¾Œï¼Œé¦´é¹¿ç›´æ¥èµ°ä¸Šå…¬è·¯èˆ”é£Ÿè·¯é¹½çš„æ©Ÿç‡å¤§å¢ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Tankavaara+Gold+Village" },
                        { time: "17:30", type: "stay", title: "éš±ä¸–å±…æ‰€ï¼šNangu", desc: "å…¥ä½ Wilderness Hotel Nangu & Igloosã€‚", details: "ä½æ–¼ä¼Šç´é‡Œæ¹–çš„å—å²¸ï¼Œä½ç½®æ¥µåº¦éš±å¯†ï¼Œå…‰å®³æ¥µä½ã€‚å«è·¨å¹´æ™šé¤ã€‚", tips: "æ¥µå…‰è§€æ¸¬é»ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Wilderness+Hotel+Nangu" },
                        { time: "19:00", type: "food", title: "è·¨å¹´ç››å®´", desc: "äº«ç”¨é£¯åº— Gala Dinnerã€‚", details: "èŠ¬è˜­è·¨å¹´å‚³çµ±ã€Œç†”éŒ«å åœã€(Uudenvuodentina)ï¼Œå°‡ç†”åŒ–çš„éŒ«å€’å…¥å†·æ°´ä¸­ï¼Œè§£è®€å½¢ç‹€é æ¸¬é‹å‹¢ã€‚", tips: "", link: "" },
                        { time: "23:55", type: "aurora", title: "è·¨å¹´æ¥µå…‰", desc: "ç«™åœ¨çµå†°çš„ä¼Šç´é‡Œæ¹–ä¸Šè¿æ¥ 2026ã€‚", details: "åœ¨ç„¡å…‰å®³çš„ç’°å¢ƒä¸‹ï¼Œç­‰å¾…æ¥µå…‰èˆ‡ 2026 å¹´çš„ç¬¬ä¸€ç§’ä¸€åŒé™è‡¨ã€‚æ¹–é¢é¢¨å¤§ï¼Œé«”æ„Ÿæº«åº¦æ¥µä½ã€‚", tips: "æ³¨æ„ä¿æš–ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Lake+Inari" }
                    ]
                },
                {
                    day: 5, date: "01/01 (Thu)", fullDate: "2026-01-01", title: "å¸ç‹èŸ¹é å¾", location: "Kirkenes (è·¨æ™‚å€)",
                    theme: "æ¥µé™é‚Šå¢ƒèˆ‡ç”²æ®¼ç››å®´",
                    aurora: "é«˜ (å›ç¨‹ 971 å…¬è·¯)",
                    events: [
                        { time: "09:30 (FI)", type: "transport", title: "æœ€ç¾å…¬è·¯ 971", desc: "å‰å¾€æŒªå¨ã€‚è–©ç±³æ–‡åŒ–æ ¸å¿ƒå€ã€‚", details: "é€”ç¶“ Sevetin Baari å’–å•¡è£œçµ¦ã€‚é€šé Neiden é‚Šå¢ƒé€²å…¥æŒªå¨ã€‚é€™æ¢è·¯èœ¿èœ’ç©¿éç„¡æ•¸å°æ¹–æ³Šèˆ‡å²©çŸ³ä¸˜é™µã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Road+971+Finland" },
                        { time: "10:45 (FI)", type: "activity", title: "æ–¯ç§‘çˆ¾ç‰¹è–©ç±³æ‘", desc: "SevettijÃ¤rvi åœç•™ï¼Œåƒè§€æ±æ­£æ•™æœ¨é€ æ•™å ‚ã€‚", details: "é€™è£¡æ˜¯ç¨ç‰¹çš„ Skolt SÃ¡mi æ–‡åŒ–ä¸­å¿ƒ (äºŒæˆ°å¾Œå¾ Petsamo é·å¾™è€Œä¾†)ã€‚æ•™å ‚å»ºç¯‰ç°¡å–®å»å……æ»¿æ­·å²æ„Ÿï¼Œå‘¨åœæ˜¯è’æ¶¼çš„æ¹–æ³Šæ™¯è§€ã€‚", tips: "é©åˆåœ¨æ­¤ç¨ä½œä¼¸å±•ï¼Œæ‹æ”é›ªåœ°æ•™å ‚ã€‚", link: "https://www.google.com/maps/search/?api=1&query=SevettijÃ¤rvi+Orthodox+Church" },
                        { time: "12:00 (NO)", type: "activity", title: "Neiden ç€‘å¸ƒèˆ‡æ™‚å·®", desc: "æš«åœ Skoltefossen ç€‘å¸ƒã€‚", details: "è·¨è¶Šå³½è°·çš„æ©‹æ¨‘æ™¯è§€å£¯è§€ã€‚æ³¨æ„æ™‚å·®ï¼šèŠ¬è˜­ (UTC+2) -> æŒªå¨ (UTC+1)ï¼Œæ‰‹æ©Ÿæ™‚é–“å€’é€€ 1 å°æ™‚ã€‚é€²å…¥æŒªå¨å¾Œç‰©åƒ¹ç¿»å€ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Skoltefossen" },
                        { time: "13:00 (NO)", type: "food", title: "å¸ç‹èŸ¹ç‹©çµ", desc: "Snowhotel Kirkenesã€‚", details: "æ­ä¹˜é›ªåœ°æ‘©æ‰˜è»Šé›ªæ©‡å‰å¾€å†°å°å³½ç£ï¼Œè¦ªæ‰‹æ‹‰èµ·å·¨å¤§çš„èŸ¹ç± ã€‚äº«ç”¨ç¾ç…®å¸ç‹èŸ¹è…¿åƒåˆ°é£½ã€‚ç´…è‰²å¸ç‹èŸ¹æ˜¯è˜‡è¯å¼•å…¥çš„å¤–ä¾†ç¨®ã€‚", tips: "é«˜è›‹ç™½æ˜“æƒ³ç¡ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Snowhotel+Kirkenes" },
                        { time: "17:00 (NO)", type: "transport", title: "æˆ°ç•¥æ’¤é€€", desc: "å¤œé–“é§•é§›è¿”å›èŠ¬è˜­ã€‚", details: "é«˜è›‹ç™½é£²é£Ÿæ˜“å°è‡´é£¯å¾Œå—œç¡ (Food Coma)ï¼ŒåŠ ä¸Šå…¨ç¨‹é»‘æš—é§•é§›ï¼Œé¢¨éšªæ¥µé«˜ã€‚å°ç­–ï¼šé›¢é–‹å‰å–æ¿ƒå’–å•¡ï¼Œè»Šå…§æº«åº¦å‹¿éé«˜ã€‚", tips: "", link: "" },
                        { time: "19:00 (FI)", type: "food", title: "å¼·åˆ¶å–šé†’ï¼šKaamanen", desc: "Kaamasen Kievari (å¡é¦¬å¯§å®¢æ£§)ã€‚", details: "å‚³å¥‡è·¯é‚Šä¼‘æ¯ç«™ã€‚åœ¨æ­¤åœç•™ 30 åˆ†é˜å¼·åˆ¶é†’è…¦ï¼Œåƒé¦´é¹¿æ´¾èˆ‡ç”œç”œåœˆã€‚æ­¤æ™‚æ‰‹æ©Ÿæ™‚é–“è·³å›èŠ¬è˜­æ™‚é–“ (+1å°æ™‚)ã€‚", tips: "é˜²ç¯„å…¬è·¯å‚¬çœ ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Kaamasen+Kievari" },
                        { time: "21:30 (FI)", type: "stay", title: "æŠµé” SaariselkÃ¤", desc: "å…¥ä½ Northern Lights Village SaariselkÃ¤ (ç»ç’ƒå±‹)ã€‚", details: "äº‹å‰ Email ç¢ºèªé£¯åº—æ˜¯å¦é ç•™å†·ç›¤æ™šé¤ (Cold Plate)ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Northern+Lights+Village+SaariselkÃ¤" }
                    ]
                },
                {
                    day: 6, date: "01/02 (Fri)", fullDate: "2026-01-02", title: "ç‰¹ç¾…å§†ç‘Ÿç™»é™¸æˆ°", location: "TromsÃ¸ (CET UTC+1)",
                    theme: "å·¨é­”èˆ‡æ¥µåœ°ç§‘å­¸",
                    aurora: "ä¸­ (çºœè»Šå±±é ‚)",
                    events: [
                        { time: "04:15 (FI)", type: "transport", title: "æ¥µé™å‡ºç™¼", desc: "03:45 èµ·åºŠï¼Œ04:15 æº–æ™‚ç™¼å‹•å¼•æ“ã€‚", details: "æ²¿ E75 å—ä¸‹å‰å¾€ Rovaniemi æ©Ÿå ´ (257km)ã€‚å‡Œæ™¨ 4 é»é‡é™¤é›ªè»ŠéšŠçµ•å°ä¸è¦è¶…è»Šï¼Œè·Ÿéš¨å…¶å¾Œäº«å—å¹³æ•´è·¯é¢ã€‚", tips: "çµ•å°ç´€å¾‹ã€‚", link: "" },
                        { time: "08:00 (FI)", type: "transport", title: "RVN æ©Ÿå ´é‚„è»Š", desc: "åŠ æ»¿æ²¹ï¼Œæ‹ç…§å­˜è­‰ï¼Œæ­¸é‚„ Green Motionã€‚", details: "ä¿ç•™åŠ æ²¹æ”¶æ“šã€‚æ­ä¹˜ Finnair AY0541 (09:25 èµ·é£›) å‰å¾€ç‰¹ç¾…å§†ç‘Ÿã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Rovaniemi+Airport" },
                        { time: "09:40 (NO)", type: "transport", title: "TromsÃ¸ è½åœ°ç§Ÿè»Š", desc: "Thrifty æ«ƒå°é ˜å– Volvo V40ã€‚", details: "å°èˆªè‡³ Fjellet P-hus (Tunnel Parking)ã€‚é€™æ˜¯æŒ–æ˜åœ¨å±±é«”å…§çš„åœ°ä¸‹åœè»Šå ´ï¼Œæ†æº«ä¸”å®‰å…¨ã€‚", tips: "ç‰¹ç¾…å§†ç‘Ÿå¤šéš§é“ä¸”æœ‰åœ°ä¸‹åœ“ç’°ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Fjellet+P-hus" },
                        { time: "11:30", type: "activity", title: "å·¨é­”åšç‰©é¤¨", desc: "Troll Museum (ARé«”é©—)ã€‚", details: "åˆ©ç”¨æ“´å¢å¯¦å¢ƒ (AR) æŠ€è¡“ï¼Œè§€å¯Ÿéš±è—åœ¨å±•å“ä¸­çš„å·¨é­”ã€‚äº†è§£æŒªå¨ç¥è©±ä¸­ Jotnar (å·¨äºº) èˆ‡ Huldra (éš±å½¢æ—) çš„å€åˆ¥ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Troll+Museum+Tromso" },
                        { time: "13:00", type: "food", title: "æ¸¯å£åˆé¤", desc: "Full Steam æˆ– Skarvenã€‚", details: "æ¨è–¦å˜—è©¦ç•¶åœ°çš„ ç‚¸é±ˆé­šèˆŒ (Cod Tongues) æˆ–æ¿ƒéƒé­šæ¹¯ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Full+Steam+Tromso" },
                        { time: "14:30", type: "activity", title: "Polaria æ°´æ—é¤¨", desc: "è§€çœ‹ 15:30 æµ·è±¹é¤µé£Ÿç§€ã€‚", details: "å»ºç¯‰å¤–è§€åƒå€’å¡Œçš„éª¨ç‰Œï¼ˆè±¡å¾µå†°å£“ï¼‰ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Polaria" },
                        { time: "16:00", type: "stay", title: "æ°‘å®¿å…¥ä½", desc: "Guesthouse TromsÃ¸ (Krokelvdalen)ã€‚", details: "ä½ç½®ä½æ–¼å¤§é™¸å´ï¼Œä¾¿æ–¼æ˜æ—¥å‰å¾€ Lyngenã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Guesthouse+TromsÃ¸" },
                        { time: "18:00", type: "activity", title: "Fjellheisen çºœè»Š", desc: "ä¸Šå±±çœ‹å¤œæ™¯ã€‚", details: "ä¿¯ç°ç‰¹ç¾…å§†ç‘Ÿå³¶å¦‚ç™¼å…‰å¯¶çŸ³æ¼‚æµ®åœ¨é»‘è‰²å³½ç£ä¸­ã€‚ä»Šæ™šæ¥è¿‘æ»¿æœˆï¼Œé©åˆæ‹æ”é›ªå±±å¤œæ™¯ã€‚", tips: "è…³æ¶å¿…å‚™ã€‚å±±é ‚æœ‰ Fjellstua CafÃ©ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Fjellheisen" }
                    ]
                },
                {
                    day: 7, date: "01/03 (Sat)", fullDate: "2026-01-03", title: "å†°èˆ‡ç«ä¹‹æ­Œ", location: "Lyngen (CET UTC+1)",
                    theme: "é›ªåœ°æ‘©æ‰˜èˆ‡è–©ç±³æ–‡åŒ–",
                    aurora: "ä½è‡³ä¸­ (æ»¿æœˆ Wolf Moon)",
                    events: [
                        { time: "08:15", type: "transport", title: "å‰å¾€ Lyngen", desc: "æ²¿ E8 å…¬è·¯å—ä¸‹å‰å¾€ Hattengã€‚", details: "æ²¿è‘— Balsfjorden è¡Œé§›ï¼Œé¢¨æ™¯å£¯éº—ä½†æµ·é¢¨å¼·å‹ï¼Œæ³¨æ„è·¯é¢ã€Œé»‘å†°ã€ã€‚", tips: "å´é¢¨å¼·çƒˆï¼Œæ¡ç·Šæ–¹å‘ç›¤ã€‚", link: "https://www.google.com/maps/search/?api=1&query=North+Experience+Basecamp" },
                        { time: "09:15", type: "transport", title: "æˆ°è¡“ä¼‘æ¯", desc: "Vollan Gjestestue (Nordkjosbotn)ã€‚", details: "E6 èˆ‡ E8 äº¤åŒ¯è™•çš„æˆ°ç•¥è£œçµ¦ç«™ã€‚å»ºè­°åœ¨æ­¤å¦‚å»ä¸¦è³¼è²·é£²æ–™ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Vollan+Gjestestue" },
                        { time: "10:30", type: "activity", title: "é›ªåœ°æ‘©æ‰˜è»Š", desc: "North Experience Basecampã€‚", details: "å…©äººä¸€è»Šï¼Œé§›å…¥è¢«é›ªè¦†è“‹çš„è’é‡èˆ‡å±±è°·ã€‚å¿…é ˆæ”œå¸¶å¯¦é«”é§•ç…§ã€‚", tips: "", link: "" },
                        { time: "14:00", type: "activity", title: "Ice Domes", desc: "TromsÃ¸ Ice Domes å°è¦½ã€‚", details: "åƒè§€å†°é›ªé£¯åº—ã€å†°é›•é…’å§ã€é›»å½±é™¢ã€‚äº†è§£ã€Œé›ªæ°£çƒã€å»ºé€ æŠ€è¡“ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Tromso+Ice+Domes" },
                        { time: "15:30", type: "transport", title: "ä¸­å ´æ•´å‚™", desc: "è¿”å›æ°‘å®¿æ´—æ¾¡ã€‚", details: "é›ªåœ°æ‘©æ‰˜è»Šçš„å»¢æ°£å‘³æœƒé™„è‘—åœ¨è¡£ç‰©ä¸Šã€‚å¼·çƒˆå»ºè­°åœ¨åƒåŠ æ™šä¸Šçš„é¦´é¹¿æ´»å‹•å‰æ´—æ¾¡ä¸¦æ›´æ›å…¨å¥—è¡£ç‰©ã€‚", tips: "", link: "" },
                        { time: "18:15", type: "transport", title: "å‰å¾€é¦´é¹¿ç‡Ÿåœ°", desc: "Tromso Arctic Reindeerã€‚", details: "é—œéµå°èˆªï¼šæ ¹æ“šæ†‘è­‰ï¼Œæ‚¨çš„è¨‚å–®æ˜¯ 'Own Transport'ã€‚ç›´æ¥é–‹è»Šè‡³ Fv53 1570 (é›¢æ°‘å®¿åƒ… 10-15 åˆ†é˜)ã€‚åƒè¬ä¸è¦å»å¸‚å€ Radisson Bluã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Tromso+Arctic+Reindeer" },
                        { time: "18:30", type: "activity", title: "è–©ç±³ä¹‹å¤œ", desc: "é¤µé£Ÿé¦´é¹¿ & å‚³çµ±æ™šé¤ã€‚", details: "æ‰‹æŒæ°´æ¡¶é¤µé£Ÿ 300 éš»é‡ç”Ÿé¦´é¹¿ã€‚éš¨å¾Œé€²å…¥ Lavvu å¸³ç¯·ï¼Œäº«ç”¨ Bidos (é¦´é¹¿æ¹¯)ï¼Œè†è½ Joik æ­Œè¬ ã€‚", tips: "Joik æ˜¯ä¸€ç¨®éˆé­‚çš„å±•ç¾ï¼Œè«‹ä¿æŒè‚…éœè†è½ã€‚", link: "" }
                    ]
                },
                {
                    day: 8, date: "01/04 (Sun)", fullDate: "2026-01-04", title: "å³½ç£è½‰å ´", location: "Bergen/Hardanger (CET UTC+1)",
                    theme: "é›»å‹•è»Šæ™‚ä»£ä¾†è‡¨",
                    aurora: "ä½ (ç·¯åº¦è¼ƒä½)",
                    events: [
                        { time: "09:30", type: "activity", title: "åšç‰©é¤¨å·¡ç¦®", desc: "Arctic University Museumã€‚", details: "åƒè§€ Roald Amundsen æ¢éšªæ­·å²èˆ‡è–©ç±³æ–‡åŒ–å±•ã€‚é€±æ—¥å•†åº—å¤šé—œé–€ï¼Œåšç‰©é¤¨æ˜¯é¦–é¸ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Arctic+University+Museum+of+Norway" },
                        { time: "12:00", type: "activity", title: "æ¥µå…‰ç§‘å­¸", desc: "Northern Norwegian Science Centerã€‚", details: "è§€è³å¤©è±¡å„€é›»å½± \"Extreme Auroras\"ï¼Œå¾ç§‘å­¸è§’åº¦ç†è§£é€™å¹¾å¤©çœ‹åˆ°çš„è‡ªç„¶ç¾è±¡ã€‚", tips: "KaffebÃ¸nna å’–å•¡è¼•é£Ÿã€‚", link: "https://www.google.com/maps/search/?api=1&query=Northern+Norwegian+Science+Center" },
                        { time: "15:00", type: "transport", title: "æ©Ÿå ´è½‰ç§»", desc: "å°‡ Volvo åŠ æ»¿æ²¹ï¼Œæ­¸é‚„çµ¦ Thriftyã€‚", details: "è¾¦ç†ç™»æ©Ÿã€‚", tips: "", link: "" },
                        { time: "17:05", type: "transport", title: "é£›å¾€å‘çˆ¾æ ¹", desc: "WiderÃ¸e WF627 (TOS -> BGO)ã€‚", details: "WiderÃ¸e æ˜¯æŒªå¨æ”¯ç·šèˆªç©ºéœ¸ä¸»ï¼Œè‹¥å¤©æ°£æ™´æœ—å¯ä¿¯ç°æµ·å²¸ç·šã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Bergen+Airport" },
                        { time: "19:15", type: "transport", title: "EV è³‡ç”¢æ¥æ”¶", desc: "Sixt é ˜å– Audi e-tronã€‚", details: "EV æ“ä½œæŒ‡å—ï¼š1. æª¢æŸ¥å……é›»ç·š (Type 2)ã€‚ 2. ä¸‹è¼‰å……é›» App (Elton, Mer, Fortum)ã€‚ 3. ç¢ºèªé›»é‡ (SoC) >80%ã€‚", tips: "", link: "" },
                        { time: "20:30", type: "transport", title: "å¤œé–“çªè¥²", desc: "é§•é§›å‰å¾€ Norheimsund (ç´„ 75km)ã€‚", details: "é€”ç¶“å¤šæ¢éš§é“ï¼ŒAudi çŸ©é™£å¼é ­ç‡ˆå°‡ç™¼æ®ä½œç”¨ã€‚ä¸­ç¹¼ç«™ï¼šBjÃ¸rkheim Kroã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=BjÃ¸rkheim+Kro" },
                        { time: "22:00", type: "stay", title: "å³½ç£å¤œå®¿", desc: "Thon Hotel Sandven (Norheimsund)ã€‚", details: "å»ºæ–¼ 1857 å¹´çš„æ­·å²é£¯åº—ã€‚è‹¥é£¯åº—æœ‰ç›®çš„åœ°å……é›»æ¨ï¼Œå‹™å¿…æ’ä¸Šéå¤œã€‚", tips: "è‡ªå‚™é›¶é£Ÿ (å»šæˆ¿å·²é—œ)ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Thon+Hotel+Sandven" }
                    ]
                },
                {
                    day: 9, date: "01/05 (Mon)", fullDate: "2026-01-05", title: "å³½ç£æ·±åº¦æ“´å……", location: "Hardangerfjord (CET UTC+1)",
                    theme: "Lofthus æˆ°ç•¥æŠ‰æ“‡",
                    aurora: "æ¥µä½",
                    events: [
                        { time: "08:30", type: "activity", title: "å²å¦é”çˆ¾ç€‘å¸ƒ", desc: "Steinsdalsfossenã€‚", details: "æŒªå¨å°‘æ•¸å¯ã€Œèµ°åˆ°ç€‘å¸ƒå¾Œæ–¹ã€çš„æ™¯é»ã€‚æ—©æ™¨å‰å¾€å¯ç¨äº«æ­¥é“ã€‚æ­¥é“å¯èƒ½çµå†°ï¼Œå°å¿ƒè¡Œèµ°ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Steinsdalsfossen" },
                        { time: "09:30", type: "activity", title: "æµ·äº‹åšç‰©é¤¨", desc: "Hardanger Maritime Museumã€‚", details: "è§€çœ‹å‚³çµ±æœ¨èˆ¹ (Clinker-built boats) çš„å»ºé€ å·¥åŠèˆ‡ç¹©ç´¢è£½ä½œã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Hardanger+Maritime+Museum" },
                        { time: "11:00", type: "activity", title: "RIB Safari", desc: "Hardangerfjord Adventureã€‚", details: "ç©¿ä¸Šä¿æš–æµ®åŠ›è¡£ï¼Œå¾æµ·å¹³é¢è¦–è§’ä»°æœ›å³½ç£å³­å£ã€‚é¢¨å¯’æ•ˆæ‡‰å¼·ï¼Œå‹™å¿…æˆ´è­·ç›®é¡ã€‚", tips: "", link: "" },
                        { time: "13:00", type: "transport", title: "Lofthus è¿‚è¿´", desc: "é Hardanger Bridge å—ä¸‹ Rv13ã€‚", details: "é€™æ®µå—ä¸‹è·¯ç¨‹å³æ˜¯ç”¨æˆ¶è¦ºå¾—ã€Œè¿‚è¿´ã€çš„éƒ¨åˆ†ï¼Œä½† Rv13 æ™¯è‰²çµ•ç¾ (æŒªå¨ç¸®å½±ç²¾è¯)ï¼Œå€¼å¾—ä¸€é–‹ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Hardanger+Bridge" },
                        { time: "13:45", type: "food", title: "æ­·å²åˆé¤", desc: "Hotel Ullensvangã€‚", details: "ä½œæ›²å®¶è‘›é‡Œæ ¼ (Edvard Grieg) çš„å‰µä½œåœ°ã€‚åœ¨é£¯åº—èŠ±åœ’çœºæœ›å°å²¸çš„ Folgefonna å†°æ²³ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Hotel+Ullensvang" },
                        { time: "15:30", type: "transport", title: "Rv13 åŒ—ä¸Š", desc: "å‰å¾€ Eidfjordã€‚", details: "æ²¿ Rv13 åŒ—ä¸ŠæŠ˜è¿”ï¼Œç¶“ Kinsarvik æ¥ Rv7ã€‚é€™æ®µè¿‚è¿´å¢åŠ äº†ç´„ 50kmï¼ŒåŠ ä¸Šæš–æ°£æ¶ˆè€—ï¼Œéœ€å¯†åˆ‡æ³¨æ„é›»é‡ã€‚", tips: "", link: "" },
                        { time: "16:30", type: "activity", title: "VÃ¸ringsfossen", desc: "é–‹è»Šä¸Šå±±è‡³è§€æ™¯å°ã€‚", details: "(è‹¥å¤©è‰²è¨±å¯) è¶è‘—æœ€å¾Œä¸€é»è—å…‰ã€‚è‹¥å¤ªæš—æˆ–å¤©æ°£æƒ¡åŠ£ï¼Œç§»è‡³æ˜æ—¥ä¸€æ—©ã€‚æ³¨æ„å±±è·¯çµå†°ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=VÃ¸ringsfossen" },
                        { time: "17:30", type: "transport", title: "é—œéµï¼šå¼·åˆ¶å……é›»", desc: "Eidfjord Tesla Superchargerã€‚", details: "Critical Mission: å¼·åˆ¶å°‡ e-tron å……è‡³ 95-100%ã€‚é€™æ˜¯ç‚ºäº†ç¢ºä¿æ˜æ—¥ç¿»è¶Šå±±å€èˆ‡è¶•é£›æ©Ÿçš„çµ•å°å®‰å…¨é¤˜è£•ã€‚", tips: "å…¥ä½ Ingrids Apartmentsã€‚", link: "https://www.google.com/maps/search/?api=1&query=Eidfjord+Tesla+Supercharger" }
                    ]
                },
                {
                    day: 10, date: "01/06 (Tue)", fullDate: "2026-01-06", title: "æ’¤æ”¶é–ƒé›»æˆ°", location: "Voss/Bergen (CET UTC+1)",
                    theme: "ç€‘å¸ƒã€çºœè»Šèˆ‡åŸå¸‚å¿«é–ƒ",
                    aurora: "ç„¡",
                    events: [
                        { time: "08:00", type: "transport", title: "è¡Œå‹•é–‹å§‹", desc: "æº–æ™‚å‡ºç™¼ã€‚", details: "è‹¥æ˜¨æ—¥æœªå»ç€‘å¸ƒï¼Œç¾åœ¨ç«‹åˆ»ä¸Šå±± (Rv7)ï¼›è‹¥å·²å»ï¼Œå‰‡ç›´æ¥å‰å¾€ Vossã€‚è‹¥ Rv7 å±±è·¯çµå†°åš´é‡ï¼Œæ”¾æ£„ç€‘å¸ƒç›´æ¥èµ°ã€‚", tips: "", link: "" },
                        { time: "09:00", type: "activity", title: "Skjervsfossen", desc: "è·¯é‚Šæ™¯é»ï¼šæœ€ç¾å…¬å»ã€‚", details: "è½åœ°çª—é¢ç€‘å¸ƒã€‚åœç•™æ§åˆ¶åœ¨ 20 åˆ†é˜å…§ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Skjervsfossen" },
                        { time: "10:15", type: "activity", title: "Voss åœç•™", desc: "Voss Gondol çºœè»Šæˆ–çŸ³æ•™å ‚ã€‚", details: "åœç•™ 75 åˆ†é˜ã€‚æ­»ç·šï¼š11:30 å¿…é ˆä¸Šè»Šé›¢é–‹ Vossï¼Œæ²¿ E16 å‰å¾€å‘çˆ¾æ ¹ã€‚", tips: "E16 å¤šéš§é“ï¼Œéœ€ç›£æ§è·¯æ³ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Voss+Gondol" },
                        { time: "13:00", type: "activity", title: "å‘çˆ¾æ ¹å¿«é–ƒ", desc: "Bryggen æ¼¢è–©åŒç›Ÿå½©è‰²æœ¨å±‹ã€‚", details: "æ±ºç­–é»ï¼šè‹¥ 13:00 å‰æŠµé”ï¼Œå¯é€²è¡Œ 45 åˆ†é˜å¿«é–ƒã€‚è‹¥ E16 å¡è»Šï¼Œæ­¤è¡Œç¨‹éœ€ç„¡æƒ…æ¨æ£„ï¼Œç›´å¥”æ©Ÿå ´ã€‚åœè»Šï¼šRosenkrantz P-husã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Bryggen+Bergen" },
                        { time: "13:45", type: "transport", title: "è³‡ç”¢è™•ç½®", desc: "BGO æ©Ÿå ´é‚„è»Š (Sixt)ã€‚", details: "æª¢æŸ¥ï¼šæ¸…é™¤è—ç‰™é€£çµèˆ‡å°èˆªç´€éŒ„ã€‚æ­ä¹˜ Norwegian DY631 (16:15) é£›å¾€æ–¯å¾·å“¥çˆ¾æ‘© (ARN)ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Bergen+Airport" },
                        { time: "20:30", type: "transport", title: "å…‰é€Ÿé€²åŸ", desc: "æ­ä¹˜ Arlanda Expressã€‚", details: "18 åˆ†é˜ç›´é”ä¸­å¤®è»Šç«™ã€‚ç¥¨å‹™ï¼šæ©Ÿå™¨æˆ– App è³¼ç¥¨ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Arlanda+Express" },
                        { time: "21:00", type: "stay", title: "Nordic Light Hotel", desc: "å…¥ä½ã€‚", details: "é£¯åº—ä½æ–¼å¿«ç·šæœˆå°æ—ï¼Œç„¡éœ€æ‹–è¡Œæèµ°é›ªåœ°ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Nordic+Light+Hotel" }
                    ]
                },
                {
                    day: 11, date: "01/07 (Wed)", fullDate: "2026-01-07", title: "æ–¯å¾·å“¥çˆ¾æ‘© I", location: "Stockholm (CET UTC+1)",
                    theme: "çš‡åŸèˆ‡æ²ˆèˆ¹ (åœ–è³‡æ•´åˆ)",
                    aurora: "ç„¡",
                    events: [
                        { time: "09:00", type: "activity", title: "è€åŸå€ï¼šçª„å··èˆ‡æ•™å ‚", desc: "Gamla Stanã€‚", details: "(1) MÃ¥rten Trotzigs grÃ¤ndï¼š90cm å¯¬çª„å··ã€‚(2) å¾·åœ‹æ•™å ‚ (Tyska Kyrkan)ã€‚é«”é©—ä¸­ä¸–ç´€ç©ºé–“æ„Ÿã€‚", tips: "ä¾æ“šåœ–è³‡ Image 2 Point 1 & 2ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Gamla+Stan" },
                        { time: "10:00", type: "activity", title: "è€åŸå€ï¼šå± é¾èˆ‡éµäºº", desc: "é›•å¡‘å·¡ç¦®ã€‚", details: "(3) è–å–¬æ²»å± é¾é›•å¡‘ã€‚(4) æœˆå…‰ç”·å­©å°éµäºº (JÃ¤rnpojke)ï¼Œæ‘¸é ­æœƒå¸¶ä¾†å¥½é‹ï¼Œå¯ä¾›å¥‰ç¡¬å¹£æˆ–ç³–æœã€‚", tips: "ä¾æ“šåœ–è³‡ Image 2 Point 3 & 4ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Iron+Boy+Stockholm" },
                        { time: "10:45", type: "activity", title: "è«¾è²çˆ¾åšç‰©é¤¨", desc: "Stortorget å¤§å»£å ´ã€‚", details: "åƒè§€æ¤…å­ä¸‹çš„ç°½åèˆ‡è¼¸é€å¸¶å±•å“ (Image 1 No.3)ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Nobel+Prize+Museum" },
                        { time: "12:00", type: "food", title: "å¤§æ•™å ‚èˆ‡åˆé¤", desc: "Stockholms GÃ¤stabudã€‚", details: "åƒè§€ Storkyrkan (å¤§æ•™å ‚)ï¼Œéš¨å¾Œåœ¨ Stockholms GÃ¤stabud äº«ç”¨ç‘å…¸è‚‰ä¸¸ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Stockholms+GÃ¤stabud" },
                        { time: "13:30", type: "activity", title: "ç‘å…¸çš‡å®®", desc: "Kungliga Slottetã€‚", details: "åƒè§€çš‡å®¶å¯“æ‰€ (Royal Apartments)ã€åœ‹åº« (Treasury) èˆ‡ä¸‰ç‹å† åšç‰©é¤¨ã€‚", tips: "åœ–è³‡å°æ‡‰ï¼šImage 2 Point 7ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Kungliga+Slottet" },
                        { time: "15:00", type: "transport", title: "æµ·ä¸Šå·´å£«", desc: "å¾ Slussen æ­ 82 è™Ÿæ¸¡è¼ªã€‚", details: "å‰å¾€ DjurgÃ¥rden å‹•ç‰©åœ’å³¶ã€‚å¾æ°´ä¸Šæ¬£è³åŸå¸‚å¤©éš›ç·šã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Slussen+Ferry" },
                        { time: "15:30", type: "activity", title: "ç“¦è–©æ²ˆèˆ¹åšç‰©é¤¨", desc: "Vasa Museum (DjurgÃ¥rden)ã€‚", details: "98% èˆ¹é«”ç‚ºåŸä»¶ã€‚è§€å¯Ÿèˆ¹å°¾é›•åˆ»ï¼Œäº†è§£ PEG ä¿å­˜æŠ€è¡“ã€‚", tips: "Image 1 No.6ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Vasa+Museum" },
                        { time: "18:00", type: "activity", title: "ç•¶ä»£æ”å½±", desc: "Fotografiskaã€‚", details: "æ­æ¸¡è¼ªå› Slussenã€‚æ™šé¤å¯æ–¼é¤¨å…§é ‚æ¨“äº«ç”¨ï¼ˆä¸»æ‰“æ¤ç‰©å„ªå…ˆæ°¸çºŒæ–™ç†ï¼‰ï¼Œäº«æœ‰ç„¡æ•µæµ·æ™¯ã€‚", tips: "é–‹æ”¾è‡³ 23:00ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Fotografiska" }
                    ]
                },
                {
                    day: 12, date: "01/08 (Thu)", fullDate: "2026-01-08", title: "æ–¯å¾·å“¥çˆ¾æ‘© II", location: "Stockholm (CET UTC+1)",
                    theme: "æ¦®è€€ä¹‹æ—¥ï¼šè«¾è²çˆ¾èˆ‡æ­ŒåŠ‡",
                    aurora: "ç„¡",
                    events: [
                        { time: "10:00", type: "activity", title: "å¸‚æ”¿å»³å°è¦½", desc: "Stockholm City Hall (Stadshuset)ã€‚", details: "åƒåŠ å°è¦½é€²å…¥ã€Œè—å»³ã€(è«¾è²çˆ¾æ™šå®´è™•) èˆ‡ã€Œé‡‘å»³ã€(1800è¬å¡Šé‡‘ç®”é¦¬è³½å…‹)ã€‚", tips: "éœ€åƒåŠ å°è¦½åœ˜æ‰èƒ½å…¥å…§ã€‚", link: "https://www.google.com/maps/search/?api=1&query=Stockholm+City+Hall" },
                        { time: "12:30", type: "food", title: "åˆé¤ï¼šLisa Elmqvist", desc: "Ã–stermalms Saluhall å¸‚å ´ã€‚", details: "å¿…é» Toast Skagen (é®®è¦åå¸)ï¼Œç‘å…¸ç¶“å…¸å‰èœã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Lisa+Elmqvist" },
                        { time: "14:30", type: "activity", title: "è¨­è¨ˆèˆ‡è³¼ç‰©", desc: "Svenskt Tenn æˆ– NK ç™¾è²¨ã€‚", details: "æ¬£è³ç‘å…¸ç¶“å…¸éŒ«å™¨èˆ‡å°èŠ±è¨­è¨ˆã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Svenskt+Tenn" },
                        { time: "17:30", type: "food", title: "æ™šé¤ï¼šBakfickan", desc: "æ­ŒåŠ‡é™¢å¾Œæ–¹å°é…’é¤¨ã€‚", details: "ä»¥ç‘å…¸è‚‰ä¸¸ (KÃ¶ttbullar) èåã€‚ä¸æ¥å—è¨‚ä½ï¼Œåªæœ‰ 28 å€‹åº§ä½ï¼Œå»ºè­° 17:15 å»æ’éšŠã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Bakfickan" },
                        { time: "19:00", type: "activity", title: "æ­ŒåŠ‡ï¼šé­”ç¬›", desc: "çš‡å®¶æ­ŒåŠ‡é™¢ (Royal Swedish Opera)ã€‚", details: "è«æœ­ç‰¹ç¶“å…¸ã€ŠThe Magic Fluteã€‹ã€‚åº§ä½ï¼š1æ¨“å‰æ’ Plats 466-467ã€‚", tips: "ç©¿è‘— Smart Casualã€‚", link: "https://www.google.com/maps/search/?api=1&query=Royal+Swedish+Opera" }
                    ]
                },
                {
                    day: 13, date: "01/09 (Fri)", fullDate: "2026-01-09", title: "æˆ°è¡“æ’¤é€€", location: "Home",
                    theme: "ä»»å‹™çµæŸ",
                    aurora: "ç„¡",
                    events: [
                        { time: "03:45", type: "transport", title: "æ‹‚æ›‰å‡ºæ“Š", desc: "Taxi ç›´å¥” ARN æ©Ÿå ´ã€‚", details: "é è¨‚ Uber æˆ– Taxi Stockholmï¼Œç´„ 40 åˆ†é˜ç›´é”èˆªå»ˆã€‚Arlanda Express é¦–ç­è»Šé¢¨éšªéé«˜ã€‚æ­ä¹˜ Austrian Airlines OS970 (06:35)ã€‚", tips: "", link: "https://www.google.com/maps/search/?api=1&query=Arlanda+Airport" }
                    ]
                }
            ],
            restaurants: [
                { name: "Ravintola Zetor", type: "ç‰¹è‰²é«”é©—", location: "Helsinki", rating: 4.1, desc: "æ‹–æ‹‰æ©Ÿä¸»é¡Œï¼Œç‚’é¦´é¹¿è‚‰ã€‚", tags: ["é‡å‘³", "ç‰¹è‰²"], link: "https://www.google.com/maps/search/?api=1&query=Ravintola+Zetor" },
                { name: "Fazer CafÃ©", type: "ç”œé»", location: "Helsinki", rating: 4.3, desc: "åœ‹å¯¶ç´šå·§å…‹åŠ›ï¼Œç†±å¯å¯ã€‚", tags: ["ç”œé»", "ä¸‹åˆèŒ¶"], link: "https://www.google.com/maps/search/?api=1&query=Fazer+CafÃ©+Kluuvikatu" },
                { name: "Restaurant Olo", type: "ç²¾ç·»é¤é£²", location: "Helsinki", rating: 4.6, desc: "ç±³å…¶æ—ä¸€æ˜Ÿï¼Œç¾ä»£åŒ—æ­æ–™ç†ã€‚", tags: ["ç‰¹è‰²", "æ™šé¤"], link: "https://www.google.com/maps/search/?api=1&query=Restaurant+Olo+Helsinki" },
                { name: "LÃ¶yly Helsinki", type: "ç‰¹è‰²é«”é©—", location: "Helsinki", rating: 4.4, desc: "çµåˆæ¡‘æ‹¿èˆ‡é¤å»³ï¼Œæµ·æ™¯çµ•ä½³ã€‚", tags: ["ç‰¹è‰²", "æ™¯è§€"], link: "https://www.google.com/maps/search/?api=1&query=LÃ¶yly+Helsinki" },
                { name: "Cafe Ekberg", type: "ç”œé»", location: "Helsinki", rating: 4.2, desc: "èµ«çˆ¾è¾›åŸºæœ€å¤è€çš„å’–å•¡é¤¨ã€‚", tags: ["ç”œé»", "æ—©åˆé¤"], link: "https://www.google.com/maps/search/?api=1&query=Cafe+Ekberg+Helsinki" },
                
                { name: "Santa's Salmon Place", type: "æµ·é®®", location: "Rovaniemi", rating: 4.6, desc: "ç¾çƒ¤é®­é­šï¼Œå‚³çµ±å¸³ç¯·ã€‚", tags: ["æµ·é®®", "åˆé¤"], link: "https://www.google.com/maps/search/?api=1&query=Santa's+Salmon+Place" },
                { name: "Restaurant Nili", type: "é‡å‘³", location: "Rovaniemi", rating: 4.4, desc: "æ¥µè‡´é‡å‘³ï¼Œç†Šè‚‰æ–™ç†ã€‚", tags: ["é‡å‘³", "æ™šé¤"], link: "https://www.google.com/maps/search/?api=1&query=Restaurant+Nili" },
                { name: "Gustav Kitchen & Bar", type: "ç‰¹è‰²é«”é©—", location: "Rovaniemi", rating: 4.5, desc: "ç•¶åœ°äººæ°£å°é…’é¤¨ï¼Œå‰µæ„æ–™ç†ã€‚", tags: ["ç‰¹è‰²", "æ™šé¤"], link: "https://www.google.com/maps/search/?api=1&query=Gustav+Kitchen+&+Bar+Rovaniemi" },
                { name: "Cafe & Bar 21", type: "ç”œé»", location: "Rovaniemi", rating: 4.4, desc: "è‘—åçš„é¹¹ç”œè¯å¤«é¤…ã€‚", tags: ["ç”œé»", "è¼•é£Ÿ"], link: "https://www.google.com/maps/search/?api=1&query=Cafe+&+Bar+21+Rovaniemi" },

                { name: "Kaamasen Kievari", type: "å°åƒ", location: "Kaamanen", rating: 4.3, desc: "é¦´é¹¿æ´¾èˆ‡ç”œç”œåœˆã€‚", tags: ["å°åƒ", "ä¸­é€”é»"], link: "https://www.google.com/maps/search/?api=1&query=Kaamasen+Kievari" },
                { name: "Restaurant Aanaar", type: "ç²¾ç·»é¤é£²", location: "Kaamanen", rating: 4.6, desc: "Inari æ¹–ç•”çš„é«˜ç´šè–©ç±³æ–™ç†ã€‚", tags: ["é‡å‘³", "ç‰¹è‰²"], link: "https://www.google.com/maps/search/?api=1&query=Restaurant+Aanaar" },
                { name: "Laanilan Kievari", type: "é‡å‘³", location: "Kaamanen", rating: 4.3, desc: "SaariselkÃ¤ é™„è¿‘çš„å‚³çµ±æœ¨å±‹é¤å»³ã€‚", tags: ["é‡å‘³", "æ™šé¤"], link: "https://www.google.com/maps/search/?api=1&query=Laanilan+Kievari" },

                { name: "Snowhotel Kirkenes", type: "æµ·é®®", location: "Kirkenes", rating: 4.5, desc: "å¸ç‹èŸ¹åƒåˆ°é£½ã€‚", tags: ["æµ·é®®", "å¤§é¤"], link: "https://www.google.com/maps/search/?api=1&query=Snowhotel+Kirkenes" },
                { name: "Gapahuken Restaurant", type: "ç‰¹è‰²é«”é©—", location: "Kirkenes", rating: 4.7, desc: "ä½æ–¼ä¿„ç¾…æ–¯é‚Šå¢ƒï¼Œå¸ç‹èŸ¹èˆ‡æ™¯è§€ã€‚", tags: ["æµ·é®®", "æ™¯è§€"], link: "https://www.google.com/maps/search/?api=1&query=Gapahuken+Restaurant+Kirkenes" },
                { name: "Ritz", type: "å°åƒ", location: "Kirkenes", rating: 4.2, desc: "ç•¶åœ°å—æ­¡è¿çš„æ¯”è–©èˆ‡ç¾©å¼æ–™ç†ã€‚", tags: ["å°åƒ", "åˆé¤"], link: "https://www.google.com/maps/search/?api=1&query=Ritz+Kirkenes" },

                { name: "Full Steam", type: "æµ·é®®", location: "TromsÃ¸", rating: 4.4, desc: "ç‚¸é±ˆé­šèˆŒï¼Œç¢¼é ­æ—ã€‚", tags: ["æµ·é®®", "ç‰¹è‰²"], link: "https://www.google.com/maps/search/?api=1&query=Full+Steam+Tromso" },
                { name: "Bardus Bistro", type: "ç‰¹è‰²é«”é©—", location: "TromsÃ¸", rating: 4.6, desc: "çµåˆåŒ—æ¥µé£Ÿæèˆ‡å—æ­é¢¨å‘³ã€‚", tags: ["ç‰¹è‰²", "æ™šé¤"], link: "https://www.google.com/maps/search/?api=1&query=Bardus+Bistro+TromsÃ¸" },
                { name: "Mathallen", type: "æµ·é®®", location: "TromsÃ¸", rating: 4.5, desc: "ç•¶åœ°é ‚ç´šé£Ÿæå¸‚å ´é¤å»³ã€‚", tags: ["æµ·é®®", "ç²¾ç·»é¤é£²"], link: "https://www.google.com/maps/search/?api=1&query=Mathallen+TromsÃ¸" },

                { name: "Lisa Elmqvist", type: "æµ·é®®", location: "Stockholm", rating: 4.3, desc: "å¸‚å ´å…§çš„é ‚ç´šé®®è¦åå¸ã€‚", tags: ["æµ·é®®", "åˆé¤"], link: "https://www.google.com/maps/search/?api=1&query=Lisa+Elmqvist" },
                { name: "Bakfickan", type: "ç‘å…¸æ–™ç†", location: "Stockholm", rating: 4.4, desc: "çš‡å®¶æ­ŒåŠ‡é™¢æ—ï¼Œè‚‰ä¸¸ã€‚", tags: ["è‚‰ä¸¸", "ç¶“å…¸"], link: "https://www.google.com/maps/search/?api=1&query=Bakfickan" },
                { name: "Stockholms GÃ¤stabud", type: "ç‘å…¸æ–™ç†", location: "Stockholm", rating: 4.5, desc: "è€åŸå€æº«é¦¨å®¶å¸¸èœã€‚", tags: ["è‚‰ä¸¸", "è€åŸ"], link: "https://www.google.com/maps/search/?api=1&query=Stockholms+GÃ¤stabud" },
                { name: "Meatballs for the People", type: "ç‘å…¸æ–™ç†", location: "Stockholm", rating: 4.2, desc: "å„å¼å„æ¨£çš„è‚‰ä¸¸å°ˆè³£åº—ã€‚", tags: ["è‚‰ä¸¸", "ç‰¹è‰²"], link: "https://www.google.com/maps/search/?api=1&query=Meatballs+for+the+People" },
                { name: "Vete-Katten", type: "ç”œé»", location: "Stockholm", rating: 4.3, desc: "ç¶“å…¸ç‘å…¸ Fika é«”é©—ã€‚", tags: ["ç”œé»", "ä¸‹åˆèŒ¶"], link: "https://www.google.com/maps/search/?api=1&query=Vete-Katten+Stockholm" },
                { name: "Fem SmÃ¥ Hus", type: "ç‰¹è‰²é«”é©—", location: "Stockholm", rating: 4.4, desc: "è€åŸå€åœ°ä¸‹å®¤æ­·å²é¤å»³ã€‚", tags: ["é‡å‘³", "è€åŸ"], link: "https://www.google.com/maps/search/?api=1&query=Fem+SmÃ¥+Hus" }
            ]
        };

        // --- RENDER FUNCTIONS ---

        function init() {
            renderNav();
            loadGearState(); // Load saved checked state
            renderContent();
            updateCountdown();
            setInterval(updateCountdown, 60000);
            
            // Check for saved dark mode preference
            if (localStorage.getItem('nordicExpeditionDarkMode') === 'true') {
                toggleDarkMode(true);
            }

            // Scroll listener for back-to-top
            window.addEventListener('scroll', () => {
                const btn = document.getElementById('back-to-top');
                if (btn) {
                    if (window.scrollY > 300) {
                        btn.classList.add('visible');
                    } else {
                        btn.classList.remove('visible');
                    }
                }
            });

            if (appData.currentTab === 'dashboard') {
                setTimeout(() => {
                    initMap();
                    renderCharts();
                }, 100);
            }
        }

        function switchTab(tab) {
            appData.currentTab = tab;
            renderNav();
            renderContent();
            if (tab === 'dashboard') {
                setTimeout(() => {
                    initMap();
                    renderCharts();
                }, 100);
            }
            // Close mobile menu if open
            if(appData.mobileMenuOpen) toggleMobileMenu();
        }

        function toggleMobileMenu() {
            appData.mobileMenuOpen = !appData.mobileMenuOpen;
            const menu = document.getElementById('mobile-menu');
            if (appData.mobileMenuOpen) {
                menu.classList.remove('hidden');
            } else {
                menu.classList.add('hidden');
            }
        }

        function toggleDarkMode(forceState) {
            if (forceState !== undefined) {
                appData.darkMode = forceState;
            } else {
                appData.darkMode = !appData.darkMode;
            }
            
            const html = document.documentElement;
            const icon = document.getElementById('dark-mode-icon');
            
            if (appData.darkMode) {
                html.classList.add('dark');
                if(icon) {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                }
                localStorage.setItem('nordicExpeditionDarkMode', 'true');
            } else {
                html.classList.remove('dark');
                if(icon) {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                }
                localStorage.setItem('nordicExpeditionDarkMode', 'false');
            }
            
            // Re-render chart if dashboard is active to update colors
            if (appData.currentTab === 'dashboard') {
                setTimeout(renderCharts, 100);
            }
        }

        function toggleViewMode() {
            appData.viewMode = appData.viewMode === 'simplified' ? 'detailed' : 'simplified';
            renderContent(); 
        }

        function scrollToDay(dayIndex) {
            const element = document.getElementById(`day-${dayIndex}`);
            const mainContainer = document.getElementById('main-content');
            
            if (element && mainContainer) {
                // Get header height
                const headerHeight = 64; // h-16
                // If on desktop, date nav is sticky top (approx 50px)
                const dateNavOffset = window.innerWidth >= 768 ? 60 : 0; 
                
                const elementPosition = element.offsetTop;
                const offsetPosition = elementPosition - headerHeight - dateNavOffset - 20;

                mainContainer.scrollTo({
                    top: offsetPosition,
                    behavior: "smooth"
                });
            }
        }

        function scrollToTop() {
            const mainContainer = document.getElementById('main-content');
            window.scrollTo({ top: 0, behavior: 'smooth' });
            if (mainContainer) {
                mainContainer.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function goToItinerary(day) {
            switchTab('itinerary');
            setTimeout(() => {
                scrollToDay(day);
            }, 300); // Slight delay to ensure DOM is ready
        }

        function toggleGearItem(catIndex, itemIndex) {
            appData.gearChecklist[catIndex].items[itemIndex].checked = !appData.gearChecklist[catIndex].items[itemIndex].checked;
            saveGearState(); // Save to localStorage
            renderContent();
        }

        // --- PERSISTENCE ---
        function saveGearState() {
            const state = appData.gearChecklist.map(cat => cat.items.map(item => item.checked));
            localStorage.setItem('nordicExpeditionGear', JSON.stringify(state));
        }

        function loadGearState() {
            const saved = localStorage.getItem('nordicExpeditionGear');
            if (saved) {
                try {
                    const state = JSON.parse(saved);
                    appData.gearChecklist.forEach((cat, cIdx) => {
                        if (state[cIdx]) {
                            cat.items.forEach((item, iIdx) => {
                                if (state[cIdx][iIdx] !== undefined) {
                                    item.checked = state[cIdx][iIdx];
                                }
                            });
                        }
                    });
                } catch (e) {
                    console.error("Failed to load gear state", e);
                }
            }
        }

        function copyDayPlan(dayIndex) {
            const day = appData.dailyItinerary[dayIndex];
            let text = `ğŸ“… ${day.date} - ${day.location}\n`;
            text += `ä¸»é¡Œ: ${day.theme}\n\n`;
            day.events.forEach(e => {
                text += `â° ${e.time} ${e.title}\n`;
                text += `   ${e.desc}\n`;
            });
            text += `\nåŒ—æ­æ¥µåœ°é å¾ 2026`;
            
            navigator.clipboard.writeText(text).then(() => {
                const btn = document.getElementById(`copy-btn-${dayIndex}`);
                const originalHTML = btn.innerHTML;
                btn.innerHTML = '<i class="fa-solid fa-check mr-1"></i> å·²è¤‡è£½';
                btn.classList.add('bg-green-600', 'text-white');
                setTimeout(() => {
                    btn.innerHTML = originalHTML;
                    btn.classList.remove('bg-green-600', 'text-white');
                }, 2000);
            });
        }

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = appData.missionStartDate - now;
            
            if (document.getElementById('countdown-timer')) {
                if (distance < 0) {
                    document.getElementById('countdown-timer').innerHTML = "MISSION ACTIVE";
                    return;
                }
                
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                
                document.getElementById('countdown-timer').innerHTML = `T-${days}d ${hours}h ${minutes}m`;
            }
        }

        function convertCurrency() {
            const amount = document.getElementById('curr-amount').value;
            const currency = document.getElementById('curr-select').value;
            const resultEl = document.getElementById('curr-result');
            
            if (amount && !isNaN(amount)) {
                const rate = appData.exchangeRates[currency];
                const result = (amount * rate).toFixed(0);
                resultEl.innerHTML = `â‰ˆ NT$ ${result}`;
            } else {
                resultEl.innerHTML = "---";
            }
        }

        // --- MAP FUNCTIONS (Leaflet) ---
        let map;
        let markers = [];

        function initMap() {
            if (document.getElementById('strategic-map')) {
                if (map) {
                    map.remove();
                }

                // Coordinates for points
                const pathCoordinates = appData.mapLocations.map(loc => [loc.lat, loc.lng]);

                // Initialize Map
                map = L.map('strategic-map'); // No fixed view, will fitBounds later

                // Add OpenStreetMap Tile Layer
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    maxZoom: 18,
                    attribution: 'Â© OpenStreetMap'
                }).addTo(map);

                // Draw Path (Deep Blue Dashed Line)
                const polyline = L.polyline(pathCoordinates, {
                    color: '#1e3a8a', // Deep Blue (Tailwind blue-900 equivalent)
                    weight: 3,
                    opacity: 0.8,
                    dashArray: '10, 10',
                    lineJoin: 'round'
                }).addTo(map);

                // Add Arrows using Polyline Decorator
                try {
                    L.polylineDecorator(polyline, {
                        patterns: [
                            {
                                offset: '5%', 
                                repeat: '15%', 
                                symbol: L.Symbol.arrowHead({
                                    pixelSize: 10,
                                    polygon: false,
                                    pathOptions: { stroke: true, color: '#1e3a8a', weight: 2 }
                                })
                            }
                        ]
                    }).addTo(map);
                } catch (e) {
                    console.error("Leaflet Polyline Decorator failed to load:", e);
                }

                // Add Markers
                markers = [];
                appData.mapLocations.forEach(loc => {
                    const marker = L.marker([loc.lat, loc.lng]).addTo(map);
                    
                    // Custom Popup Content
                    const popupContent = `
                        <div class="p-2 text-center">
                            <h3 class="font-bold text-slate-800 text-sm mb-1">${loc.name}</h3>
                            <div class="text-xs text-slate-500 mb-2">Day ${loc.day}</div>
                            <button onclick="goToItinerary(${loc.day})" 
                                class="bg-indigo-600 text-white text-xs px-3 py-1 rounded hover:bg-indigo-700 transition-colors">
                                å‰å¾€è¡Œç¨‹
                            </button>
                        </div>
                    `;
                    marker.bindPopup(popupContent);
                    markers.push({ id: loc.id, marker: marker });
                });

                // Auto-size (Fit Bounds) to show all markers
                if (pathCoordinates.length > 0) {
                    const bounds = L.latLngBounds(pathCoordinates);
                    map.fitBounds(bounds, { padding: [50, 50] });
                }
            }
        }

        function updateMap(query, btnId) { 
            // In Leaflet version, we fly to the marker instead of reloading an iframe
            const location = appData.mapLocations.find(l => l.id === btnId);
            if (location && map) {
                map.flyTo([location.lat, location.lng], 10, {
                    animate: true,
                    duration: 1.5
                });
                
                // Open the popup for the target marker
                const targetMarkerObj = markers.find(m => m.id === btnId);
                if (targetMarkerObj) {
                    targetMarkerObj.marker.openPopup();
                }
            }

            // Update active button state
            document.querySelectorAll('.map-btn').forEach(btn => {
                btn.classList.remove('map-btn-active', 'bg-indigo-600', 'text-white');
                btn.classList.add('bg-white', 'text-slate-700', 'hover:bg-slate-50', 'dark:bg-slate-800', 'dark:text-slate-200');
            });
            const activeBtn = document.getElementById(`map-btn-${btnId}`);
            if(activeBtn) {
                activeBtn.classList.remove('bg-white', 'text-slate-700', 'hover:bg-slate-50', 'dark:bg-slate-800', 'dark:text-slate-200');
                activeBtn.classList.add('map-btn-active', 'bg-indigo-600', 'text-white');
            }
        }

        function renderNav() {
            const tabs = [
                { id: 'dashboard', icon: 'fa-chart-line', label: 'æˆ°ç•¥å„€è¡¨ç›¤' },
                { id: 'itinerary', icon: 'fa-list-ol', label: 'æ¯æ—¥æˆ°ç•¥è¡Œç¨‹' },
                { id: 'gear', icon: 'fa-suitcase-rolling', label: 'è£å‚™æ•´å‚™' },
                { id: 'logistics', icon: 'fa-truck-plane', label: 'å¾Œå‹¤èˆ‡äº¤é€š' },
                { id: 'food', icon: 'fa-utensils', label: 'ç¾é£Ÿåœ°åœ–' },
                { id: 'guide', icon: 'fa-book-medical', label: 'ç”Ÿå­˜æŒ‡å—' }, // New Tab
            ];

            const desktopHTML = tabs.map(tab => `
                <button onclick="switchTab('${tab.id}')" 
                    class="${appData.currentTab === tab.id ? 'border-indigo-500 text-slate-900 dark:text-white dark:border-indigo-400' : 'border-transparent text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:border-slate-300'} 
                    inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition duration-150 ease-in-out h-full">
                    <i class="fa-solid ${tab.icon} mr-2"></i> ${tab.label}
                </button>
            `).join('');

            const mobileHTML = tabs.map(tab => `
                <button onclick="switchTab('${tab.id}')" 
                    class="${appData.currentTab === tab.id ? 'bg-indigo-50 text-indigo-700 dark:bg-slate-800 dark:text-indigo-400' : 'text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-slate-900'} 
                    block w-full text-left px-3 py-2 rounded-md text-base font-medium flex items-center">
                    <i class="fa-solid ${tab.icon} w-6 text-center mr-2"></i>
                    ${tab.label}
                </button>
            `).join('');

            document.getElementById('desktop-nav').innerHTML = desktopHTML;
            document.getElementById('mobile-nav-items').innerHTML = mobileHTML;
        }

        function renderContent() {
            const main = document.getElementById('main-content');
            main.innerHTML = ''; 

            let contentHTML = '';

            if (appData.currentTab === 'dashboard') {
                contentHTML = renderDashboard();
            } else if (appData.currentTab === 'itinerary') {
                contentHTML = renderItinerary();
            } else if (appData.currentTab === 'gear') {
                contentHTML = renderGear();
            } else if (appData.currentTab === 'logistics') {
                contentHTML = renderLogistics();
            } else if (appData.currentTab === 'food') {
                contentHTML = renderFoodMap();
            } else if (appData.currentTab === 'guide') {
                contentHTML = renderGuide();
            }

            main.innerHTML = `<div class="fade-in max-w-7xl mx-auto pb-8">${contentHTML}</div>`;
        }

        // --- SECTIONS RENDERING ---

        function renderDashboard() {
            const weatherCards = appData.weatherForecast.map(w => `
                <div class="flex-none w-32 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg p-3 text-center snap-center shadow-sm">
                    <div class="text-xs text-slate-500 dark:text-slate-400 mb-1">Day ${w.day}</div>
                    <div class="text-sm font-bold text-slate-800 dark:text-slate-200 truncate">${w.loc}</div>
                    <div class="my-2 text-indigo-600 dark:text-indigo-400"><i class="fa-solid ${w.icon} text-2xl"></i></div>
                    <div class="text-lg font-bold text-slate-900 dark:text-white">${w.temp}</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">${w.cond}</div>
                    <div class="mt-1 text-[10px] text-slate-400 bg-slate-50 dark:bg-slate-900 rounded px-1 py-0.5"><i class="fa-regular fa-sun"></i> ${w.sun}</div>
                </div>
            `).join('');

            const mapButtons = appData.mapLocations.map(loc => `
                <button id="map-btn-${loc.id}" onclick="updateMap('', ${loc.id})" 
                    class="map-btn w-full text-left px-3 py-2 rounded text-xs font-medium border border-slate-200 dark:border-slate-700 mb-2 transition-colors bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700">
                    <i class="fa-solid fa-location-dot mr-2 text-indigo-500 dark:text-indigo-400"></i>${loc.name}
                </button>
            `).join('');

            // Chart Colors based on dark mode
            const gridColor = appData.darkMode ? '#334155' : '#e2e8f0';
            const tickColor = appData.darkMode ? '#94a3b8' : '#64748b';

            return `
                <div class="p-4 sm:p-8">
                    <!-- Countdown Header -->
                    <div class="bg-indigo-900 rounded-lg shadow-lg p-6 mb-8 text-white flex flex-col md:flex-row justify-between items-center relative overflow-hidden">
                        <div class="z-10 text-center md:text-left">
                            <h2 class="text-xl font-bold uppercase tracking-wider mb-1"><i class="fa-solid fa-shuttle-space mr-2"></i> Mission Countdown</h2>
                            <p class="text-indigo-200 text-sm">Target: 2025-12-28 | Helsinki Injection</p>
                        </div>
                        <div class="z-10 mt-4 md:mt-0">
                            <div id="countdown-timer" class="text-4xl font-mono font-bold tracking-widest text-emerald-400">Loading...</div>
                        </div>
                        <div class="absolute right-0 top-0 h-full w-1/3 bg-gradient-to-l from-indigo-800 to-transparent opacity-30"></div>
                        <div class="absolute -bottom-10 -right-10 text-9xl text-white opacity-5"><i class="fa-solid fa-stopwatch"></i></div>
                    </div>

                    <!-- Weather -->
                    <div class="bg-white dark:bg-slate-800 shadow rounded-lg p-6 mb-8">
                        <h3 class="text-lg leading-6 font-medium text-slate-900 dark:text-white mb-4 flex items-center">
                            <i class="fa-solid fa-temperature-low text-blue-500 mr-2"></i> æ¥µåœ°æ°£è±¡é å ±ä¸­å¿ƒ
                        </h3>
                        <div class="flex overflow-x-auto space-x-4 pb-4 snap-x no-scrollbar">
                            ${weatherCards}
                        </div>
                    </div>

                    <!-- KPI Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div class="bg-white dark:bg-slate-800 overflow-hidden shadow rounded-lg px-4 py-5 sm:p-6">
                            <dt class="text-sm font-medium text-slate-500 dark:text-slate-400">æ¥µå…‰è§€æ¸¬æ©Ÿç‡</dt>
                            <dd class="mt-1 text-3xl font-semibold text-indigo-600 dark:text-indigo-400">High</dd>
                            <p class="text-xs text-slate-400 dark:text-slate-500 mt-1">Solar Maximum Cycle 25</p>
                        </div>
                        <div class="bg-white dark:bg-slate-800 overflow-hidden shadow rounded-lg px-4 py-5 sm:p-6">
                            <dt class="text-sm font-medium text-slate-500 dark:text-slate-400">ç¸½ç§»å‹•è·é›¢ (Est.)</dt>
                            <dd class="mt-1 text-3xl font-semibold text-slate-900 dark:text-white">3,200 km</dd>
                            <p class="text-xs text-slate-400 dark:text-slate-500 mt-1">è·¨è¶ŠåŒ—ç·¯ 60Â° è‡³ 71Â°</p>
                        </div>
                        <div class="bg-white dark:bg-slate-800 overflow-hidden shadow rounded-lg px-4 py-5 sm:p-6">
                            <dt class="text-sm font-medium text-slate-500 dark:text-slate-400">æˆ°ç•¥åŸ·è¡Œç‹€æ…‹</dt>
                            <dd class="mt-1 text-3xl font-semibold text-emerald-600 dark:text-emerald-400">Ready</dd>
                            <p class="text-xs text-slate-400 dark:text-slate-500 mt-1">æ‰€æœ‰é è¨‚å·²ç¢ºèª</p>
                        </div>
                    </div>

                    <!-- Map & Charts -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
                        <!-- Strategic Map with Controls -->
                        <div class="bg-white dark:bg-slate-800 shadow rounded-lg p-6 lg:col-span-3">
                            <h3 class="text-lg leading-6 font-medium text-slate-900 dark:text-white mb-4">
                                <i class="fa-solid fa-map text-emerald-600 dark:text-emerald-400 mr-2"></i>åŒ—æ­æˆ°ç•¥åœ°åœ– (Strategic Map)
                            </h3>
                            <div class="flex flex-col md:flex-row gap-4 h-[500px] md:h-[400px]">
                                <!-- Map Controls -->
                                <div class="w-full md:w-1/4 h-32 md:h-full overflow-y-auto pr-2 custom-scrollbar">
                                    <h4 class="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-3">æ¯æ—¥æ“šé»è·³è½‰</h4>
                                    ${mapButtons}
                                </div>
                                <!-- Map Frame (Leaflet Container) -->
                                <div class="w-full md:w-3/4 relative h-full rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700 z-0 bg-slate-100">
                                    <div id="strategic-map"></div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white dark:bg-slate-800 shadow rounded-lg p-6 lg:col-span-2">
                            <h3 class="text-lg leading-6 font-medium text-slate-900 dark:text-white mb-4">æ´»å‹•å¼·åº¦èˆ‡äº¤é€šæ™‚é–“</h3>
                            <div class="relative h-64 w-full">
                                <canvas id="activityChart"></canvas>
                            </div>
                        </div>

                        <div class="bg-white dark:bg-slate-800 shadow rounded-lg p-6 lg:col-span-1">
                            <h3 class="text-lg leading-6 font-medium text-slate-900 dark:text-white mb-4">åŒ—æ¥µåœˆç·¯åº¦è®ŠåŒ–</h3>
                            <div class="relative h-64 w-full">
                                <canvas id="latChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Risk Matrix -->
                    <div class="bg-white dark:bg-slate-800 shadow rounded-lg p-6">
                        <h3 class="text-lg leading-6 font-medium text-slate-900 dark:text-white mb-4">æ ¸å¿ƒé¢¨éšªç›£æ§çŸ©é™£</h3>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-slate-200 dark:divide-slate-700">
                                <thead>
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider">é¢¨éšªäº‹ä»¶</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider">æ©Ÿç‡</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider">æ‡‰å°ç­–ç•¥</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-200">Day 10 æ™‚é–“è»¸å´©æ½°</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-red-600 dark:text-red-400 font-bold">é«˜</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400">è‹¥ 11:45 æœªé›¢ Vossï¼Œæ”¾æ£„å‘çˆ¾æ ¹å¿«é–ƒã€‚</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-200">Day 9 EV é›»é‡ä¸è¶³</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-orange-600 dark:text-orange-400 font-bold">ä¸­</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400">Eidfjord å¼·åˆ¶å……é›»è‡³ 95% ä»¥ä¸Šã€‚</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderGuide() {
            const cards = appData.phrases.map(p => `
                <div class="bg-white dark:bg-slate-800 rounded-lg shadow p-6 border-l-4 border-indigo-500">
                    <div class="flex items-center justify-between mb-4 pb-2 border-b border-slate-100 dark:border-slate-700">
                        <h3 class="text-xl font-bold text-slate-900 dark:text-white">${p.flag} ${p.lang}</h3>
                        <span class="text-xs text-slate-400 uppercase tracking-wide">Survival Phrase</span>
                    </div>
                    <div class="grid gap-3">
                        ${p.items.map(item => `
                            <div class="flex justify-between items-center group cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 p-2 rounded transition-colors" title="Click to practice">
                                <span class="font-medium text-slate-500 dark:text-slate-400">${item.src}</span>
                                <span class="font-bold text-indigo-700 dark:text-indigo-300 text-lg">${item.tgt}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');

            return `
                <div class="max-w-4xl mx-auto p-4 sm:p-8">
                    <div class="mb-8 text-center">
                        <h2 class="text-2xl font-bold text-slate-900 dark:text-white">åŒ—æ­ç”Ÿå­˜æŒ‡å— (Survival Guide)</h2>
                        <p class="text-slate-500 dark:text-slate-400 mt-2">é‡åˆ°å›°é›£æ™‚çš„é—œéµèªè¨€èˆ‡ç·Šæ€¥è¯çµ¡è³‡è¨Šã€‚</p>
                    </div>
                    
                    <div class="bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-8 flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="flex-shrink-0 bg-red-100 dark:bg-red-800 rounded-full p-3">
                                <i class="fa-solid fa-phone-volume text-red-600 dark:text-red-200 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <h3 class="text-lg font-bold text-red-800 dark:text-red-200">ç·Šæ€¥æ•‘é›£é›»è©± (é€šç”¨)</h3>
                                <p class="text-sm text-red-600 dark:text-red-300">è­¦å¯Ÿ / æ¶ˆé˜² / æ•‘è­·è»Š (é»æ“Šæ’¥è™Ÿ)</p>
                            </div>
                        </div>
                        <a href="tel:112" class="text-4xl font-black text-red-600 dark:text-red-400 tracking-wider hover:text-red-800 dark:hover:text-red-300 transition-colors">112</a>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        ${cards}
                    </div>
                </div>
            `;
        }

        function renderGear() {
            const checklistHtml = appData.gearChecklist.map((category, catIndex) => {
                const itemsHtml = category.items.map((item, itemIndex) => {
                    return `
                        <div class="flex items-start py-3 border-b border-slate-100 dark:border-slate-700 last:border-0 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors px-2 rounded" onclick="toggleGearItem(${catIndex}, ${itemIndex})">
                            <div class="flex-shrink-0 h-5 w-5 flex items-center justify-center rounded border ${item.checked ? 'bg-emerald-500 border-emerald-500' : 'border-slate-300 dark:border-slate-500 bg-white dark:bg-slate-800'} transition-colors mt-0.5">
                                ${item.checked ? '<i class="fa-solid fa-check text-white text-xs"></i>' : ''}
                            </div>
                            <div class="ml-3 text-sm ${item.checked ? 'text-slate-400 dark:text-slate-500 line-through' : 'text-slate-700 dark:text-slate-200 font-medium'}">
                                ${item.name}
                            </div>
                        </div>
                    `;
                }).join('');

                const progress = Math.round((category.items.filter(i => i.checked).length / category.items.length) * 100);

                return `
                    <div class="bg-white dark:bg-slate-800 overflow-hidden shadow rounded-lg mb-6 break-inside-avoid">
                        <div class="px-4 py-5 sm:px-6 bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600 flex justify-between items-center">
                            <h3 class="text-lg leading-6 font-medium text-slate-900 dark:text-white flex items-center">
                                <i class="fa-solid ${category.icon} text-indigo-500 dark:text-indigo-400 w-8"></i> ${category.category}
                            </h3>
                            <span class="text-xs font-bold px-2 py-1 rounded-full ${progress === 100 ? 'bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200' : 'bg-slate-200 text-slate-600 dark:bg-slate-600 dark:text-slate-300'}">
                                ${progress}% Ready
                            </span>
                        </div>
                        <div class="px-4 py-2">
                            ${itemsHtml}
                        </div>
                        <div class="h-1 w-full bg-slate-100 dark:bg-slate-900">
                            <div class="h-1 ${progress === 100 ? 'bg-emerald-500' : 'bg-indigo-500'}" style="width: ${progress}%"></div>
                        </div>
                    </div>
                `;
            }).join('');

            const totalItems = appData.gearChecklist.reduce((acc, cat) => acc + cat.items.length, 0);
            const checkedItems = appData.gearChecklist.reduce((acc, cat) => acc + cat.items.filter(i => i.checked).length, 0);
            const totalProgress = Math.round((checkedItems / totalItems) * 100);

            return `
                <div class="max-w-4xl mx-auto p-4 sm:p-8">
                    <div class="mb-8 text-center">
                        <h2 class="text-2xl font-bold text-slate-900 dark:text-white">æ¥µåœ°è£å‚™æ•´å‚™ (Gear Check)</h2>
                        <p class="text-slate-500 dark:text-slate-400 mt-2">ç”Ÿå­˜åœ¨æ¥µåœ°çš„é—œéµåœ¨æ–¼ç´°ç¯€ã€‚é€²åº¦æœƒè‡ªå‹•å„²å­˜ã€‚</p>
                        <div class="mt-4 max-w-xs mx-auto">
                            <div class="flex justify-between text-xs font-bold text-slate-500 dark:text-slate-400 mb-1">
                                <span>ç¸½é€²åº¦</span>
                                <span>${totalProgress}%</span>
                            </div>
                            <div class="w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5">
                                <div class="bg-indigo-600 dark:bg-indigo-500 h-2.5 rounded-full transition-all duration-500" style="width: ${totalProgress}%"></div>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        ${checklistHtml}
                    </div>
                </div>
            `;
        }

        function renderItinerary() {
            const dateButtons = appData.dailyItinerary.map(day => `
                <button onclick="scrollToDay(${day.day})" class="flex-none px-3 py-1 rounded-full text-xs font-medium bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 hover:bg-indigo-50 dark:hover:bg-slate-700 hover:text-indigo-600 hover:border-indigo-300 transition-colors shadow-sm whitespace-nowrap snap-start">
                    D${day.day} <span class="font-normal text-slate-400 ml-1">${day.date.split(' ')[0]}</span>
                </button>
            `).join('');

            // Date Nav: Fixed Bottom on Mobile, Sticky Top on Desktop
            const dateNav = `
                <div class="fixed bottom-0 left-0 right-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur border-t border-slate-200 dark:border-slate-800 shadow-lg md:sticky md:top-0 md:border-b md:border-t-0 md:shadow-sm md:z-30 transition-colors duration-300 no-print">
                    <div class="max-w-7xl mx-auto px-4 py-3 sm:px-6 lg:px-8">
                        <div class="flex items-center justify-between mb-2">
                            <h2 class="text-sm font-bold text-slate-900 dark:text-white">æ—¥æœŸå°è¦½</h2>
                            <div class="flex items-center space-x-2">
                                <button onclick="window.print()" class="text-xs bg-slate-100 hover:bg-slate-200 text-slate-700 px-3 py-1 rounded transition-colors mr-2 border border-slate-300">
                                    <i class="fa-solid fa-print mr-1"></i> åˆ—å°è¡Œç¨‹
                                </button>
                                <span class="text-[10px] font-medium text-slate-500 dark:text-slate-400 ${appData.viewMode === 'simplified' ? 'text-indigo-600 dark:text-indigo-400' : ''}">ç°¡åŒ–</span>
                                <button onclick="toggleViewMode()" class="relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${appData.viewMode === 'detailed' ? 'bg-indigo-600' : 'bg-slate-200 dark:bg-slate-700'}" role="switch">
                                    <span class="sr-only">åˆ‡æ›è©³æƒ…æ¨¡å¼</span>
                                    <span aria-hidden="true" class="pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${appData.viewMode === 'detailed' ? 'translate-x-4' : 'translate-x-0'}"></span>
                                </button>
                                <span class="text-[10px] font-medium text-slate-500 dark:text-slate-400 ${appData.viewMode === 'detailed' ? 'text-indigo-600 dark:text-indigo-400' : ''}">è©³ç´°</span>
                            </div>
                        </div>
                        <div class="flex space-x-2 overflow-x-auto pb-1 snap-x no-scrollbar">
                            ${dateButtons}
                        </div>
                    </div>
                </div>
            `;

            const itineraryHtml = appData.dailyItinerary.map((day, index) => {
                const eventsHtml = day.events.map(event => {
                    let iconClass = 'fa-circle';
                    let colorClass = 'bg-slate-200 dark:bg-slate-700';
                    let iconColor = 'text-slate-500 dark:text-slate-400';

                    if (event.type === 'transport') { iconClass = 'fa-plane-departure'; colorClass = 'bg-blue-100 dark:bg-blue-900/30'; iconColor = 'text-blue-600 dark:text-blue-400'; }
                    else if (event.type === 'stay') { iconClass = 'fa-bed'; colorClass = 'bg-indigo-100 dark:bg-indigo-900/30'; iconColor = 'text-indigo-600 dark:text-indigo-400'; }
                    else if (event.type === 'food') { iconClass = 'fa-utensils'; colorClass = 'bg-orange-100 dark:bg-orange-900/30'; iconColor = 'text-orange-600 dark:text-orange-400'; }
                    else if (event.type === 'activity') { iconClass = 'fa-camera'; colorClass = 'bg-emerald-100 dark:bg-emerald-900/30'; iconColor = 'text-emerald-600 dark:text-emerald-400'; }
                    else if (event.type === 'aurora') { iconClass = 'fa-star'; colorClass = 'bg-purple-100 dark:bg-purple-900/30'; iconColor = 'text-purple-600 dark:text-purple-400'; }

                    const detailsSection = appData.viewMode === 'detailed' ? `
                        <div class="mt-3 pt-3 border-t border-slate-100 dark:border-slate-700 text-sm text-slate-700 dark:text-slate-300 bg-slate-50 dark:bg-slate-800/50 -mx-4 px-4 py-3 sm:-mx-0 sm:rounded-b-lg">
                            <div class="mb-2"><span class="font-semibold text-slate-900 dark:text-slate-100">è©³ç´°æ“ä½œï¼š</span> ${event.details || 'ç„¡è©³ç´°è³‡æ–™'}</div>
                            ${event.tips ? `<div class="text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-2 rounded border border-red-100 dark:border-red-900/50"><i class="fa-solid fa-triangle-exclamation mr-1"></i> ${event.tips}</div>` : ''}
                        </div>
                    ` : '';

                    return `
                        <div class="relative pl-14 sm:pl-32 py-4 group break-inside-avoid">
                            <!-- Time (Desktop) -->
                            <div class="hidden sm:flex flex-col items-end absolute left-0 top-4 w-24 pr-4">
                                <span class="text-sm font-bold text-slate-900 dark:text-white">${event.time}</span>
                                <span class="text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide">${event.type}</span>
                            </div>

                            <!-- Timeline Marker -->
                            <div class="absolute left-2 top-5 sm:left-[6.5rem] flex items-center justify-center"> 
                                <div class="h-8 w-8 rounded-full ${colorClass} flex items-center justify-center ring-4 ring-white dark:ring-slate-950 z-10 transition-colors">
                                    <i class="fa-solid ${iconClass} ${iconColor} text-sm"></i>
                                </div>
                            </div>
                            
                            <!-- Content Card -->
                            <div class="bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 shadow-sm hover:shadow-md transition-all relative ${appData.viewMode === 'detailed' ? 'pb-0 sm:pb-0 overflow-hidden' : ''}">
                                <!-- Time (Mobile) -->
                                <div class="sm:hidden text-xs font-bold text-slate-500 dark:text-slate-400 mb-1 flex justify-between">
                                    <span>${event.time}</span>
                                    <span class="uppercase">${event.type}</span>
                                </div>
                                
                                <div class="flex justify-between items-start">
                                    <div class="w-full">
                                        <h4 class="text-base font-semibold text-slate-900 dark:text-white">${event.title}</h4>
                                        <p class="text-sm text-slate-600 dark:text-slate-300 mt-1">${event.desc}</p>
                                    </div>
                                    ${event.link ? `
                                        <a href="${event.link}" target="_blank" class="flex-none ml-3 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors no-print">
                                            <i class="fa-solid fa-map-location-dot text-lg"></i>
                                        </a>
                                    ` : ''}
                                </div>
                                ${detailsSection}
                            </div>
                        </div>
                    `;
                }).join('');

                return `
                    <div id="day-${day.day}" class="mb-12 relative break-inside-avoid">
                        <div class="flex justify-between items-center mb-6">
                            <div>
                                <h2 class="text-2xl font-bold text-slate-900 dark:text-white flex items-center">
                                    <span class="bg-slate-900 dark:bg-indigo-600 text-white text-sm px-2 py-1 rounded mr-3">Day ${day.day}</span>
                                    ${day.location}
                                </h2>
                                <p class="text-sm text-slate-500 dark:text-slate-400 mt-1 ml-12">${day.fullDate} | ${day.theme}</p>
                            </div>
                            <div class="text-right hidden sm:block no-print">
                                <div class="text-xs text-purple-600 dark:text-purple-300 mt-1 font-semibold bg-purple-50 dark:bg-purple-900/40 px-3 py-1 rounded-full border border-purple-100 dark:border-purple-800 mb-2">
                                    <i class="fa-solid fa-bolt mr-1"></i> æ¥µå…‰: ${day.aurora}
                                </div>
                                <button id="copy-btn-${index}" onclick="copyDayPlan(${index})" class="text-xs bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 px-3 py-1 rounded transition-colors">
                                    <i class="fa-regular fa-copy mr-1"></i> è¤‡è£½è¡Œç¨‹
                                </button>
                            </div>
                        </div>
                        
                        <!-- Timeline Line -->
                        <div class="absolute left-6 sm:left-[7.5rem] top-12 bottom-0 w-0.5 bg-slate-200 dark:bg-slate-700 z-0"></div>

                        <div class="space-y-2">
                            ${eventsHtml}
                        </div>
                    </div>
                `;
            }).join('');

            // Desktop layout: Nav on top. Mobile layout: Nav at bottom (fixed).
            return `
                <div class="relative min-h-screen">
                    <!-- Nav rendered here for desktop sticky -->
                    <div class="hidden md:block sticky top-0 z-30">
                        ${dateNav}
                    </div>
                    
                    <div class="max-w-4xl mx-auto p-4 sm:p-8 pb-32">
                        ${itineraryHtml}
                    </div>

                    <!-- Nav rendered here for mobile fixed bottom -->
                    <div class="md:hidden">
                        ${dateNav}
                    </div>
                </div>
            `;
        }

        function renderLogistics() {
            return `
                <div class="max-w-4xl mx-auto p-4 sm:p-8">
                    <!-- Currency Converter (New) -->
                    <div class="bg-indigo-600 dark:bg-indigo-900 rounded-lg shadow-lg p-6 mb-6 text-white no-print">
                        <h3 class="text-lg font-bold mb-4 flex items-center"><i class="fa-solid fa-coins mr-2"></i> æ¥µåœ°åŒ¯ç‡æ›ç®—å™¨ (Polar Currency Converter)</h3>
                        <div class="flex items-center gap-4">
                            <div class="flex-1">
                                <label class="block text-xs text-indigo-200 mb-1">é‡‘é¡</label>
                                <input type="number" id="curr-amount" placeholder="100" class="w-full rounded p-2 text-slate-900" oninput="convertCurrency()">
                            </div>
                            <div class="flex-1">
                                <label class="block text-xs text-indigo-200 mb-1">å¹£åˆ¥</label>
                                <select id="curr-select" class="w-full rounded p-2 text-slate-900" onchange="convertCurrency()">
                                    <option value="EUR">æ­å…ƒ (EUR) - èŠ¬è˜­</option>
                                    <option value="SEK">ç‘å…¸å…‹æœ— (SEK)</option>
                                    <option value="NOK">æŒªå¨å…‹æœ— (NOK)</option>
                                </select>
                            </div>
                            <div class="flex-1 text-right">
                                <label class="block text-xs text-indigo-200 mb-1">ç´„åˆå°å¹£ (TWD)</label>
                                <div id="curr-result" class="text-2xl font-bold">---</div>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Flight Card -->
                        <div class="bg-white dark:bg-slate-800 rounded-lg shadow p-6">
                            <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center"><i class="fa-solid fa-plane text-blue-500 mr-2"></i> é—œéµèˆªç­</h3>
                            <ul class="space-y-4 text-sm text-slate-700 dark:text-slate-300">
                                <li class="flex justify-between border-b border-slate-100 dark:border-slate-700 pb-2">
                                    <span>Day 1: TPE -> AMS -> HEL</span>
                                    <span class="font-mono font-bold">KL0808 / KL1251</span>
                                </li>
                                <li class="flex justify-between border-b border-slate-100 dark:border-slate-700 pb-2">
                                    <span>Day 2: HEL -> RVN</span>
                                    <span class="font-mono font-bold">AY0533</span>
                                </li>
                                <li class="flex justify-between border-b border-slate-100 dark:border-slate-700 pb-2">
                                    <span>Day 6: RVN -> TOS</span>
                                    <span class="font-mono font-bold">AY0541</span>
                                </li>
                                <li class="flex justify-between border-b border-slate-100 dark:border-slate-700 pb-2">
                                    <span>Day 8: TOS -> BGO</span>
                                    <span class="font-mono font-bold">WF627</span>
                                </li>
                                <li class="flex justify-between border-b border-slate-100 dark:border-slate-700 pb-2">
                                    <span>Day 10: BGO -> ARN</span>
                                    <span class="font-mono font-bold">DY631</span>
                                </li>
                                <li class="flex justify-between">
                                    <span>Day 13: ARN -> TPE</span>
                                    <span class="font-mono font-bold">OS970 / CI064</span>
                                </li>
                            </ul>
                        </div>

                        <!-- Car Rental Card -->
                        <div class="bg-white dark:bg-slate-800 rounded-lg shadow p-6">
                            <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center"><i class="fa-solid fa-car text-emerald-500 mr-2"></i> ç§Ÿè»Šæˆ°ç•¥</h3>
                            <div class="space-y-4">
                                <div class="p-3 bg-slate-50 dark:bg-slate-700 rounded border border-slate-200 dark:border-slate-600">
                                    <div class="font-semibold text-slate-900 dark:text-white">Phase 1: æ‹‰æ™®è˜­</div>
                                    <div class="text-sm text-slate-600 dark:text-slate-300">Green Motion (RVN) - VW Golf</div>
                                    <div class="text-xs text-red-500 dark:text-red-400 mt-1 font-bold"><i class="fa-solid fa-triangle-exclamation"></i> æª¢æŸ¥åŠ ç†±ç·šèˆ‡é‡˜èƒã€‚</div>
                                </div>
                                <div class="p-3 bg-slate-50 dark:bg-slate-700 rounded border border-slate-200 dark:border-slate-600">
                                    <div class="font-semibold text-slate-900 dark:text-white">Phase 2: ç‰¹ç¾…å§†ç‘Ÿ</div>
                                    <div class="text-sm text-slate-600 dark:text-slate-300">Thrifty (TOS) - Volvo V40</div>
                                </div>
                                <div class="p-3 bg-slate-50 dark:bg-slate-700 rounded border border-slate-200 dark:border-slate-600">
                                    <div class="font-semibold text-slate-900 dark:text-white">Phase 3: å³½ç£ EV</div>
                                    <div class="text-sm text-slate-600 dark:text-slate-300">Sixt (BGO) - Audi e-tron</div>
                                    <div class="text-xs text-orange-500 dark:text-orange-400 mt-1 font-bold">Day 9 Eidfjord å¿…å……ã€‚</div>
                                </div>
                            </div>
                        </div>

                        <!-- Apps & Cards Section (NEW) -->
                        <div class="bg-white dark:bg-slate-800 rounded-lg shadow p-6 md:col-span-2">
                            <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center"><i class="fa-solid fa-mobile-screen-button text-purple-500 mr-2"></i> æˆ°è¡“æ‡‰ç”¨ç¨‹å¼èˆ‡æ”¯ä»˜ (Apps & Cards)</h3>
                            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                <!-- Finland -->
                                <div class="p-3 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-100 dark:border-blue-900">
                                    <div class="font-bold text-blue-800 dark:text-blue-300 mb-2 border-b border-blue-200 dark:border-blue-800 pb-1">ğŸ‡«ğŸ‡® èŠ¬è˜­ (Finland)</div>
                                    <ul class="text-sm text-slate-700 dark:text-slate-300 space-y-1">
                                        <li><span class="font-semibold">åœè»Š:</span> EasyPark, ParkMan</li>
                                        <li><span class="font-semibold">äº¤é€š:</span> HSL (èµ«çˆ¾è¾›åŸºå…¬è»Š/åœ°éµ)</li>
                                        <li><span class="font-semibold">å……é›»/åŠ æ²¹:</span> ABC-mobiili, K-Lataus</li>
                                        <li><span class="font-semibold">éµè·¯:</span> VR Mobile</li>
                                    </ul>
                                </div>
                                <!-- Sweden -->
                                <div class="p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded border border-yellow-100 dark:border-yellow-900">
                                    <div class="font-bold text-yellow-800 dark:text-yellow-300 mb-2 border-b border-yellow-200 dark:border-yellow-800 pb-1">ğŸ‡¸ğŸ‡ª ç‘å…¸ (Sweden)</div>
                                    <ul class="text-sm text-slate-700 dark:text-slate-300 space-y-1">
                                        <li><span class="font-semibold">åœè»Š:</span> EasyPark, Betala P (æ–¯å¾·å“¥çˆ¾æ‘©)</li>
                                        <li><span class="font-semibold">äº¤é€š:</span> SL (æ–¯å¾·å“¥çˆ¾æ‘©å¤§çœ¾é‹è¼¸)</li>
                                        <li><span class="font-semibold">å……é›»:</span> InCharge, Mer Connect</li>
                                        <li><span class="font-semibold">æ”¯ä»˜:</span> ä¿¡ç”¨å¡æ„Ÿæ‡‰ç‚ºä¸» (å¹¾ä¹ç„¡ç¾é‡‘)</li>
                                    </ul>
                                </div>
                                <!-- Norway -->
                                <div class="p-3 bg-red-50 dark:bg-red-900/20 rounded border border-red-100 dark:border-red-900">
                                    <div class="font-bold text-red-800 dark:text-red-300 mb-2 border-b border-red-200 dark:border-red-800 pb-1">ğŸ‡³ğŸ‡´ æŒªå¨ (Norway)</div>
                                    <ul class="text-sm text-slate-700 dark:text-slate-300 space-y-1">
                                        <li><span class="font-semibold">EV å……é›»:</span> <span class="text-red-600 dark:text-red-400 font-bold">Elton</span> (æ•´åˆApp, å¿…è¼‰), Mer</li>
                                        <li><span class="font-semibold">åœè»Š:</span> EasyPark, Bil i Oslo</li>
                                        <li><span class="font-semibold">äº¤é€š:</span> Skyss (å‘çˆ¾æ ¹/Voss), Vy</li>
                                        <li><span class="font-semibold">éè·¯è²»:</span> Epass24 / FerryPay (å‚™ç”¨)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        let currentFoodFilter = 'all';

        function renderFoodMap() {
            const types = [
                { id: 'all', label: 'å…¨éƒ¨' },
                { id: 'é‡å‘³', label: 'é‡å‘³/è‚‰é¡' },
                { id: 'æµ·é®®', label: 'æ¥µåœ°æµ·é®®' },
                { id: 'ç”œé»', label: 'å’–å•¡ç”œé»' },
                { id: 'ç‰¹è‰²', label: 'ç‰¹è‰²é«”é©—' }
            ];
            
            const locations = [
                { id: 'Helsinki', label: 'èµ«çˆ¾è¾›åŸº' },
                { id: 'Rovaniemi', label: 'ç¾…ç“¦æ¶…ç±³' },
                { id: 'Kaamanen', label: 'å¡é¦¬å¯§' },
                { id: 'Kirkenes', label: 'å¸Œçˆ¾å…‹å…§æ–¯' },
                { id: 'TromsÃ¸', label: 'ç‰¹ç¾…å§†ç‘Ÿ' },
                { id: 'Stockholm', label: 'æ–¯å¾·å“¥çˆ¾æ‘©' }
            ];

            const filteredList = currentFoodFilter === 'all' 
                ? appData.restaurants 
                : appData.restaurants.filter(r => 
                    r.tags.some(t => t.includes(currentFoodFilter)) || 
                    r.type === currentFoodFilter ||
                    r.location === currentFoodFilter
                );

            const typeButtons = types.map(f => `
                <button onclick="setFoodFilter('${f.id}')" 
                    class="px-3 py-1 rounded-full text-xs font-medium transition-colors border ${currentFoodFilter === f.id ? 'bg-indigo-600 text-white border-indigo-600' : 'bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 border-slate-200 dark:border-slate-600'}">
                    ${f.label}
                </button>
            `).join('');
            
            const locationButtons = locations.map(l => `
                <button onclick="setFoodFilter('${l.id}')" 
                    class="px-3 py-1 rounded-full text-xs font-medium transition-colors border ${currentFoodFilter === l.id ? 'bg-emerald-600 text-white border-emerald-600' : 'bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 border-slate-200 dark:border-slate-600'}">
                    <i class="fa-solid fa-location-dot mr-1 text-[10px]"></i>${l.label}
                </button>
            `).join('');

            const cards = filteredList.map(r => `
                <div class="bg-white dark:bg-slate-800 rounded-lg shadow hover:shadow-lg transition-shadow overflow-hidden flex flex-col">
                    <div class="p-5 flex-1">
                        <div class="flex justify-between items-start">
                            <h3 class="text-lg font-bold text-slate-900 dark:text-white">${r.name}</h3>
                            <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200">
                                ${r.type}
                            </span>
                        </div>
                        <div class="flex items-center mt-1 mb-2">
                            <i class="fa-solid fa-star text-yellow-400 text-xs mr-1"></i>
                            <span class="text-sm font-bold text-slate-700 dark:text-slate-300">${r.rating}</span>
                        </div>
                        <p class="text-xs text-slate-500 dark:text-slate-400 mb-2"><i class="fa-solid fa-location-dot mr-1"></i> ${r.location}</p>
                        <p class="text-sm text-slate-600 dark:text-slate-300 mt-2">${r.desc}</p>
                        <div class="mt-3 flex flex-wrap gap-1">
                            ${r.tags.map(t => `<span class="inline-block bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-500 dark:text-slate-400 text-[10px] px-2 py-0.5 rounded-full">#${t}</span>`).join('')}
                        </div>
                    </div>
                    <div class="bg-slate-50 dark:bg-slate-700/50 px-5 py-3 border-t border-slate-100 dark:border-slate-700">
                        <a href="${r.link}" target="_blank" class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 text-sm font-medium flex items-center justify-center">
                            <i class="fa-solid fa-map-location-dot mr-2"></i> Google Maps
                        </a>
                    </div>
                </div>
            `).join('');

            return `
                <div class="max-w-7xl mx-auto p-4 sm:p-8">
                    <div class="mb-6 space-y-3">
                        <div class="flex flex-wrap gap-2 items-center">
                            <span class="text-xs font-bold text-slate-400 uppercase w-12">åˆ†é¡:</span>
                            ${typeButtons}
                        </div>
                        <div class="flex flex-wrap gap-2 items-center">
                            <span class="text-xs font-bold text-slate-400 uppercase w-12">åœ°å€:</span>
                            ${locationButtons}
                        </div>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        ${cards}
                    </div>
                </div>
            `;
        }

        function setFoodFilter(filter) {
            currentFoodFilter = filter;
            renderContent(); 
        }

        // --- CHART RENDERING ---

        function renderCharts() {
            // Re-fetch context (important for chartJS when canvas is recreated)
            const ctx1 = document.getElementById('activityChart')?.getContext('2d');
            const ctx2 = document.getElementById('latChart')?.getContext('2d');
            
            if(!ctx1 || !ctx2) return;

            // Colors adapting to dark mode
            const labelColor = appData.darkMode ? '#cbd5e1' : '#64748b';
            const gridColor = appData.darkMode ? '#334155' : '#e2e8f0';

            // Chart 1: Activity vs Transport
            new Chart(ctx1, {
                type: 'bar',
                data: {
                    labels: ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5', 'Day 6', 'Day 7', 'Day 8', 'Day 9', 'Day 10', 'Day 11', 'Day 12'],
                    datasets: [
                        {
                            label: 'äº¤é€šç§»å‹• (Hours)',
                            data: [3, 4, 5, 2, 6, 4, 3, 5, 4, 5, 1, 1], 
                            backgroundColor: '#94a3b8',
                        },
                        {
                            label: 'æ ¸å¿ƒæ´»å‹• (Hours)',
                            data: [4, 3, 4, 5, 4, 5, 6, 2, 6, 3, 7, 6], 
                            backgroundColor: '#4f46e5',
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { 
                            stacked: true,
                            ticks: { color: labelColor },
                            grid: { color: gridColor }
                        },
                        y: { 
                            stacked: true, 
                            beginAtZero: true, 
                            title: {display: true, text: 'å°æ™‚', color: labelColor},
                            ticks: { color: labelColor },
                            grid: { color: gridColor }
                        }
                    },
                    plugins: {
                        legend: { labels: { color: labelColor } }
                    }
                }
            });

            // Chart 2: Latitude Profile
            new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: ['Helsinki', 'Rovaniemi', 'Inari', 'Kirkenes', 'TromsÃ¸', 'Bergen', 'Stockholm'],
                    datasets: [{
                        label: 'åŒ—ç·¯ (Â°N)',
                        data: [60.1, 66.5, 68.9, 69.7, 69.6, 60.3, 59.3],
                        borderColor: '#0ea5e9', 
                        backgroundColor: 'rgba(14, 165, 233, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { 
                            min: 55, 
                            max: 72,
                            title: {display: true, text: 'ç·¯åº¦', color: labelColor},
                            ticks: { color: labelColor },
                            grid: { color: gridColor }
                        },
                        x: {
                            ticks: { color: labelColor },
                            grid: { color: gridColor }
                        }
                    },
                    plugins: {
                        legend: { labels: { color: labelColor } },
                        annotation: {
                            annotations: {
                                line1: {
                                    type: 'line',
                                    yMin: 66.5,
                                    yMax: 66.5,
                                    borderColor: 'rgb(255, 99, 132)',
                                    borderWidth: 2,
                                    borderDash: [5, 5],
                                    label: { content: 'åŒ—æ¥µåœˆ (Arctic Circle)', enabled: true, color: labelColor }
                                }
                            }
                        }
                    }
                }
            });
        }

        // --- INIT ---
        init();

    </script>
</body>
</html>
